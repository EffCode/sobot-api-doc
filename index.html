
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Kittn API"
        >
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-9c19b03a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-d2a765c7.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="php">PHP</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#sobot-api-documentation" class="toc-h1 toc-link" data-title="Sobot API Documentation">Sobot API Documentation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getting-started" class="toc-h2 toc-link" data-title="Getting Started">Getting Started</a>
                  </li>
                  <li>
                    <a href="#api-endpoints-and-operations" class="toc-h2 toc-link" data-title="API Endpoints and Operations">API Endpoints and Operations</a>
                  </li>
                  <li>
                    <a href="#explore-and-integrate" class="toc-h2 toc-link" data-title="Explore and Integrate">Explore and Integrate</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#free-flow-messages" class="toc-h1 toc-link" data-title="Free-flow Messages">Free-flow Messages</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#text-message" class="toc-h2 toc-link" data-title="Text Message">Text Message</a>
                  </li>
                  <li>
                    <a href="#image-message" class="toc-h2 toc-link" data-title="Image Message">Image Message</a>
                  </li>
                  <li>
                    <a href="#button-message" class="toc-h2 toc-link" data-title="Button Message">Button Message</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#template" class="toc-h1 toc-link" data-title="Template">Template</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#send-messages" class="toc-h2 toc-link" data-title="Send Messages">Send Messages</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#template-messages" class="toc-h1 toc-link" data-title="Template Messages">Template Messages</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#text-message-2" class="toc-h2 toc-link" data-title="Text Message">Text Message</a>
                  </li>
                  <li>
                    <a href="#text-message-with-buttons" class="toc-h2 toc-link" data-title="Text Message with Buttons">Text Message with Buttons</a>
                  </li>
                  <li>
                    <a href="#text-message-with-cta" class="toc-h2 toc-link" data-title="Text Message with CTA">Text Message with CTA</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Copyright &copy; Sobot 2023</a></li>
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='sobot-api-documentation'>Sobot API Documentation</h1>
<p>Welcome to the Sobot API documentation! Our API allows you to seamlessly integrate the power of the Sobot platform into your applications, enabling you to manage WhatsApp interactions effectively. Sobot is a SaaS platform designed to provide a comprehensive WhatsApp team inbox that facilitates seamless communication with customers, resolution of queries, execution of marketing campaigns, and more.</p>

<p>Whether you&#39;re building a customer support tool, enhancing your marketing capabilities, or creating innovative communication solutions, the Sobot API empowers you with a range of operations to interact with the WhatsApp team inbox and harness its features.</p>
<h2 id='getting-started'>Getting Started</h2>
<p>To get started with the Sobot API, you&#39;ll need an <a href="#authentication">Access &amp; Secret Keys</a> that you can <a href="https://app.sobot.in/signup">obtain by signing up</a> for an account on our platform. Once you have your Access &amp; Secret keys, you can authenticate your requests and start accessing the Sobot API endpoints.</p>

<p>We provide language bindings in several programming languages, including Shell, Python, and JavaScript. In this documentation, you&#39;ll find code examples demonstrating API usage in these languages. The code examples are displayed in the dark area to the right, and you can easily switch between programming languages using the tabs in the top right corner of the code examples.</p>
<h2 id='api-endpoints-and-operations'>API Endpoints and Operations</h2>
<p>The Sobot API supports a variety of operations that allow you to interact with the WhatsApp team inbox seamlessly. Some of the key operations supported by the API include:</p>

<p><strong>Add Customer</strong>: You can use this endpoint to add new customers to the WhatsApp team inbox, ensuring that you maintain a comprehensive contact list.</p>

<p><strong>Initiate Campaigns</strong>: Launch and manage marketing campaigns directly from your application using the API, enabling you to engage with your audience effectively.</p>

<p><strong>Send Messages</strong>: Send various types of messages, including text, videos, images, and templates, to customers through the WhatsApp team inbox, facilitating efficient communication.</p>

<p><strong>Create/Sync Templates</strong>: Simplify message creation by utilizing templates. This endpoint allows you to create and synchronize message templates effortlessly.</p>
<h2 id='explore-and-integrate'>Explore and Integrate</h2>
<p>This documentation serves as your comprehensive guide to integrating the Sobot API into your applications. You&#39;ll find detailed explanations, code examples, and best practices to ensure a smooth integration process.</p>

<p>So, whether you&#39;re aiming to enhance customer support, execute marketing strategies, or innovate with WhatsApp communication, the Sobot API equips you with the tools you need. Let&#39;s explore the possibilities together!</p>

<p>Feel free to refer to the code examples on this page and select the programming language that suits your development environment. If you have any questions or need assistance, don&#39;t hesitate to reach out to our support team.</p>

<p>Let&#39;s dive into the world of seamless WhatsApp communication with Sobot API!</p>
<h1 id='authentication'>Authentication</h1>
<p>Sobot employs authentication keys to grant access to its API. To acquire a new Sobot API keys, please follow below instructons to obtain keys from our portal.</p>

<p>Sign In to <a href="https://app.sobot.in">app.sobot.in</a> -&gt; Settings -&gt; Developers tools - &gt; Generate Keys</p>

<aside class="warning">
Every time you will generate the new keys, old keys will be deprecated. 
</aside>

<p>For each API request directed to the server, Sobot requires the API keys to be included in the header. The header should follow this format:</p>

<p><code>x-api-key: your-access-key</code></p>

<p><code>x-api-secret: your-secret-key</code></p>

<p>These keys play a crucial role in ensuring the security and validity of API interactions. Please ensure that you incorporate your provided access and secret keys correctly in the headers of your API requests.</p>

<aside class="notice">
You must replace <code>your-access-key</code> & <code>your-secret-key</code> with your personal API keys.
</aside>
<h1 id='free-flow-messages'>Free-flow Messages</h1><h2 id='text-message'>Text Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'https://api.sobot.in/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: {{api-access-key}}'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: {{api-secret-key}}'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
          "message":"Hello",
          "type":"text",
          "customer_number":"919970XXXXXX",
          "customer_name": "John Doe"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.sobot.in/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">message</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Hello</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">type</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">text</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">customer_number</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">919970XXXXXX</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">customer_name</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">John Doe</span><span class="se">\"</span><span class="s">}"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'{{api-access-key}}'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'{{api-secret-key}}'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'https://api.sobot.in/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'{{api-access-key}}'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'{{api-secret-key}}'</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{"message":"Hello","type":"text","customer_number":"919970XXXXXX","customer_name": "John Doe"}'</span><span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Notification sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send text messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Yes</td>
<td>The text of the text message which can contain URLs which begin with http:// or https://(All URLs are set to preview in message by default.) and formatting (See Below for formattting options) .<br/> <br/> Maximum length: 4096 characters</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>Text</code> in case of Text messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
</tbody></table>

<p>WhatsApp allows some formatting in messages. To format all or part of a message, use these formatting symbols:</p>

<table><thead>
<tr>
<th>Formatting</th>
<th>Symbol</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>Bold</td>
<td>Asterisk (*)</td>
<td>Your total is <em>$10.50</em>.</td>
</tr>
<tr>
<td>Italics</td>
<td>Underscore (_)</td>
<td>Welcome to <em>WhatsApp</em>!</td>
</tr>
<tr>
<td>Strike-through</td>
<td>Tilde (~)</td>
<td>This is ~better~ best!</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h2 id='image-message'>Image Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'{{base_url}}/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: {{api-access-key}}'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: {{api-secret-key}}'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
    "type": "image",
    "url": "https://example.com/images/20230625_003239.jpg",
    "customer_number": "919970XXXXXX",
    "customer_name": "John Doe",
    "mime_type": "image/jpeg"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"{{base_url}}/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">type</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">image</span><span class="se">\"</span><span class="s">,</span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">url</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">https://example.com/images/20230625_003239.jpg</span><span class="se">\"</span><span class="s">,</span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">customer_number</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">919970585556</span><span class="se">\"</span><span class="s">,</span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">customer_name</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">Sagar</span><span class="se">\"</span><span class="s">,</span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">mime_type</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">image/jpeg</span><span class="se">\"\n</span><span class="s">}"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'{{api-access-key}}'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'{{api-secret-key}}'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'{{base_url}}/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'{{api-access-key}}'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'{{api-secret-key}}'</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{\n    "type": "image",\n    "url": "https://example.com/images/20230625_003239.jpg",\n    "customer_number": "919970585556",\n    "customer_name": "Sagar",\n    "mime_type": "image/jpeg"\n}'</span><span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Notification sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send image messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>image</code> in case of Image messages.</td>
<td>-</td>
</tr>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL of an image you want to send to customer and this image has to be acessible without any aunthetication. <br /><br /> Please check supported Media Types below.</td>
<td>-</td>
</tr>
<tr>
<td>mime_type</td>
<td>Yes</td>
<td>Mime-type of image that you added in the URL <br /><br /> e.g. image/jpeg, image/png</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The text to send along with the image message.<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id='supported-media-types'>Supported Media Types</h3>
<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>audio</td>
<td>audio/aac, audio/mp4, audio/mpeg, audio/amr, audio/ogg<br/> (only opus codecs, base audio/ogg is not supported)</td>
<td>16MB</td>
</tr>
<tr>
<td>document</td>
<td>text/plain, application/pdf, application/vnd.ms-powerpoint, application/msword, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.presentationml.presentation, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</td>
<td>100MB</td>
</tr>
<tr>
<td>image</td>
<td>image/jpeg, image/png Images must be 8-bit, RGB or RGBA</td>
<td>5MB</td>
</tr>
<tr>
<td>video</td>
<td>video/mp4, video/3gp<br/><br/> Notes: <br/>Only H.264 video codec and AAC audio codec is supported. <br/>We support videos with a single audio stream or no audio stream.</td>
<td>16MB</td>
</tr>
<tr>
<td>sticker</td>
<td>image/webp</td>
<td>Static stickers: 100KB<br/><br/> Animated stickers: 500KB</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h2 id='button-message'>Button Message</h2><h1 id='template'>Template</h1>
<p>Templates are used in template messages to open marketing, utility, and authentication conversations with customers. Unlike free-form messages, template messages are the only type of message that can be sent to customers who have yet to message you, or who have not sent you a message in the last 24 hours.</p>

<p>Templates must be approved before they can be sent in template messages. In addition, templates may be disabled automatically based on customer feedback. Once disabled, a template cannot be sent in a template message until its quality rating has improved or it no longer violates our business or commerce policies.</p>
<h2 id='send-messages'>Send Messages</h2><h1 id='template-messages'>Template Messages</h1><h2 id='text-message-2'>Text Message</h2><h2 id='text-message-with-buttons'>Text Message with Buttons</h2><h2 id='text-message-with-cta'>Text Message with CTA</h2><h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="php">PHP</a>
          </div>
      </div>
    </div>
  </body>
</html>
