
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Sobot API"
        >
    <title>Sobot API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-9c19b03a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-d2a765c7.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="php">PHP</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#sobot-api-documentation" class="toc-h1 toc-link" data-title="Sobot API Documentation">Sobot API Documentation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getting-started" class="toc-h2 toc-link" data-title="Getting Started">Getting Started</a>
                  </li>
                  <li>
                    <a href="#api-endpoints-and-operations" class="toc-h2 toc-link" data-title="API Endpoints and Operations">API Endpoints and Operations</a>
                  </li>
                  <li>
                    <a href="#explore-and-integrate" class="toc-h2 toc-link" data-title="Explore and Integrate">Explore and Integrate</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#free-flow-messages" class="toc-h1 toc-link" data-title="Free-flow Messages">Free-flow Messages</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#text-message" class="toc-h2 toc-link" data-title="Text Message">Text Message</a>
                  </li>
                  <li>
                    <a href="#image-message" class="toc-h2 toc-link" data-title="Image Message">Image Message</a>
                  </li>
                  <li>
                    <a href="#sticker-message" class="toc-h2 toc-link" data-title="Sticker Message">Sticker Message</a>
                  </li>
                  <li>
                    <a href="#video-message" class="toc-h2 toc-link" data-title="Video Message">Video Message</a>
                  </li>
                  <li>
                    <a href="#document-message" class="toc-h2 toc-link" data-title="Document Message">Document Message</a>
                  </li>
                  <li>
                    <a href="#location-message" class="toc-h2 toc-link" data-title="Location Message">Location Message</a>
                  </li>
                  <li>
                    <a href="#button-message" class="toc-h2 toc-link" data-title="Button Message">Button Message</a>
                  </li>
                  <li>
                    <a href="#list-message" class="toc-h2 toc-link" data-title="List Message">List Message</a>
                  </li>
                  <li>
                    <a href="#single-product-message" class="toc-h2 toc-link" data-title="Single Product Message">Single Product Message</a>
                  </li>
                  <li>
                    <a href="#multi-product-message" class="toc-h2 toc-link" data-title="Multi-product Message">Multi-product Message</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Copyright &copy; Sobot 2023</a></li>
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='sobot-api-documentation'>Sobot API Documentation</h1>
<p>Welcome to the Sobot API documentation! Our API allows you to seamlessly integrate the power of the Sobot platform into your applications, enabling you to manage WhatsApp interactions effectively. Sobot is a SaaS platform designed to provide a comprehensive WhatsApp team inbox that facilitates seamless communication with customers, resolution of queries, execution of marketing campaigns, and more.</p>

<p>Whether you&#39;re building a customer support tool, enhancing your marketing capabilities, or creating innovative communication solutions, the Sobot API empowers you with a range of operations to interact with the WhatsApp team inbox and harness its features.</p>
<h2 id='getting-started'>Getting Started</h2>
<p>To get started with the Sobot API, you&#39;ll need an <a href="#authentication">Access &amp; Secret Keys</a> that you can <a href="https://app.sobot.in/signup">obtain by signing up</a> for an account on our platform. Once you have your Access &amp; Secret keys, you can authenticate your requests and start accessing the Sobot API endpoints.</p>

<p>We provide language bindings in several programming languages, including Shell, Python, and JavaScript. In this documentation, you&#39;ll find code examples demonstrating API usage in these languages. The code examples are displayed in the dark area to the right, and you can easily switch between programming languages using the tabs in the top right corner of the code examples.</p>
<h2 id='api-endpoints-and-operations'>API Endpoints and Operations</h2>
<p>The Sobot API supports a variety of operations that allow you to interact with the WhatsApp team inbox seamlessly. Some of the key operations supported by the API include:</p>

<p><strong>Add Customer</strong>: You can use this endpoint to add new customers to the WhatsApp team inbox, ensuring that you maintain a comprehensive contact list.</p>

<p><strong>Initiate Campaigns</strong>: Launch and manage marketing campaigns directly from your application using the API, enabling you to engage with your audience effectively.</p>

<p><strong>Send Messages</strong>: Send various types of messages, including text, videos, images, and templates, to customers through the WhatsApp team inbox, facilitating efficient communication.</p>

<p><strong>Create/Sync Templates</strong>: Simplify message creation by utilizing templates. This endpoint allows you to create and synchronize message templates effortlessly.</p>
<h2 id='explore-and-integrate'>Explore and Integrate</h2>
<p>This documentation serves as your comprehensive guide to integrating the Sobot API into your applications. You&#39;ll find detailed explanations, code examples, and best practices to ensure a smooth integration process.</p>

<p>So, whether you&#39;re aiming to enhance customer support, execute marketing strategies, or innovate with WhatsApp communication, the Sobot API equips you with the tools you need. Let&#39;s explore the possibilities together!</p>

<p>Feel free to refer to the code examples on this page and select the programming language that suits your development environment. If you have any questions or need assistance, don&#39;t hesitate to reach out to our support team.</p>

<p>Let&#39;s dive into the world of seamless WhatsApp communication with Sobot API!</p>
<h1 id='authentication'>Authentication</h1>
<p>Sobot employs authentication keys to grant access to its API. To acquire a new Sobot API keys, please follow below instructons to obtain keys from our portal.</p>

<p>Sign In to <a href="https://app.sobot.in">app.sobot.in</a> -&gt; Settings -&gt; Developers tools - &gt; Generate New Keys</p>

<p>(Only Admin can generate API Keys.)</p>

<aside class="warning">
Every time you will generate the new keys, old keys will be deprecated. 
</aside>

<p>For each API request directed to the server, Sobot requires the API keys to be included in the header. The header should follow this format:</p>

<p><code>x-api-key: yourapiaccesskey</code></p>

<p><code>x-api-secret: yourapisecretkey</code></p>

<p>These keys play a crucial role in ensuring the security and validity of API interactions. Please ensure that you incorporate your provided access and secret keys correctly in the headers of your API requests.</p>

<aside class="notice">
You must replace <code>yourapiaccesskey</code> & <code>yourapisecretkey</code> with your personal API keys.
</aside>
<h1 id='free-flow-messages'>Free-flow Messages</h1><h2 id='text-message'>Text Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'https://api.sobot.in/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: yourapiaccesskey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: yourapisecretkey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'content-type'</span>: <span class="s1">'application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
          "message":"Hello",
          "type":"text",
          "customer_number":"919970XXXXXX",
          "customer_name": "John Doe"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.sobot.in/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
  <span class="s">"message"</span><span class="p">:</span> <span class="s">"Hello"</span><span class="p">,</span>
  <span class="s">"type"</span><span class="p">:</span> <span class="s">"text"</span><span class="p">,</span>
  <span class="s">"customer_number"</span><span class="p">:</span> <span class="s">"919970XXXXXX"</span><span class="p">,</span>
  <span class="s">"customer_name"</span><span class="p">:</span> <span class="s">"John Doe"</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'https://api.sobot.in/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{"message":"Hello",
"type":"text",
"customer_number":"919970XXXXXX",
"customer_name": "John Doe"}'</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send text messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Yes</td>
<td>The text of the text message which can contain URLs which begin with http:// or https://(All URLs are set to preview in message by default.) and formatting (See Below for formattting options) .<br/> <br/> Maximum length: 4096 characters</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>Text</code> in case of Text messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
</tbody></table>

<p>WhatsApp allows some formatting in messages. To format all or part of a message, use these formatting symbols:</p>

<table><thead>
<tr>
<th>Formatting</th>
<th>Symbol</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>Bold</td>
<td>Asterisk (*)</td>
<td>Your total is <em>$10.50</em>.</td>
</tr>
<tr>
<td>Italics</td>
<td>Underscore (_)</td>
<td>Welcome to <em>WhatsApp</em>!</td>
</tr>
<tr>
<td>Strike-through</td>
<td>Tilde (~)</td>
<td>This is ~better~ best!</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h2 id='image-message'>Image Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'https://api.sobot.in/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: yourapiaccesskey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: yourapisecretkey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'content-type'</span>: <span class="s1">'application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
    "type": "image",
    "url": "https://example.com/images/20230625_003239.jpg",
    "customer_number": "919970XXXXXX",
    "customer_name": "John Doe",
    "mime_type": "image/jpeg"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.sobot.in/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
  <span class="s">"type"</span><span class="p">:</span> <span class="s">"image"</span><span class="p">,</span>
  <span class="s">"url"</span><span class="p">:</span> <span class="s">"https://example.com/images/20230625_003239.jpg"</span><span class="p">,</span>
  <span class="s">"customer_number"</span><span class="p">:</span> <span class="s">"919970XXXXXX"</span><span class="p">,</span>
  <span class="s">"customer_name"</span><span class="p">:</span> <span class="s">"John Doe"</span><span class="p">,</span>
  <span class="s">"mime_type"</span><span class="p">:</span> <span class="s">"image/jpeg"</span>
<span class="p">})</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'https://api.sobot.in/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'yourapisecretkey'</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{\n    
"type": "image",\n    
"url": "https://example.com/images/20230625_003239.jpg",\n    
"customer_number": "919970XXXXXX",\n    
"customer_name": "John Doe",\n    
"mime_type": "image/jpeg"\n}'</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send image messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>image</code> in case of Image messages.</td>
<td>-</td>
</tr>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL of an image you want to send to customer and this image should be publicly accessible. <br /><br /> Please check supported Media Types below.</td>
<td>-</td>
</tr>
<tr>
<td>mime_type</td>
<td>Yes</td>
<td>Mime-type of image that you added in the URL <br /><br /> e.g. image/jpeg, image/png</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The text to send along with the image message.<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id='supported-media-types'>Supported Media Types</h3>
<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>image</td>
<td>image/jpeg, image/png Images must be 8-bit, RGB or RGBA</td>
<td>5MB</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h2 id='sticker-message'>Sticker Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'https://api.sobot.in/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: yourapiaccesskey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: yourapisecretkey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'content-type'</span>: <span class="s1">'application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
    "type": "image",
    "url": "https://example.com/stickers/20230625_003239.webp",
    "customer_number": "919970XXXXXX",
    "customer_name": "John Doe",
    "mime_type": "image/webp"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.sobot.in/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
  <span class="s">"type"</span><span class="p">:</span> <span class="s">"image"</span><span class="p">,</span>
  <span class="s">"url"</span><span class="p">:</span> <span class="s">"https://example.com/stickers/20230625_003239.webp"</span><span class="p">,</span>
  <span class="s">"customer_number"</span><span class="p">:</span> <span class="s">"919970XXXXXX"</span><span class="p">,</span>
  <span class="s">"customer_name"</span><span class="p">:</span> <span class="s">"John Doe"</span><span class="p">,</span>
  <span class="s">"mime_type"</span><span class="p">:</span> <span class="s">"image/webp"</span>
<span class="p">})</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'https://api.sobot.in/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'yourapisecretkey'</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{\n    
"type": "image",\n    
"url": "https://example.com/stickers/20230625_003239.webp",\n    
"customer_number": "919970XXXXXX",\n    
"customer_name": "John Doe",\n    
"mime_type": "image/webp"\n}'</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send sticker messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters-3'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>sticker</code> in case of Sticker messages.</td>
<td>-</td>
</tr>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL of an sticker you want to send to customer and this sticker file should be publicly accessible. <br /><br /> Please check supported Media Types below.</td>
<td>-</td>
</tr>
<tr>
<td>mime_type</td>
<td>Yes</td>
<td>Mime-type of image that you added in the URL <br /><br /> e.g. image/webp</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id='supported-media-types-2'>Supported Media Types</h3>
<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>sticker</td>
<td>image/webp</td>
<td>Static stickers: 100KB<br/><br/> Animated stickers: 500KB</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h2 id='video-message'>Video Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'https://api.sobot.in/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: yourapiaccesskey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: yourapisecretkey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'content-type'</span>: <span class="s1">'application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
    "type": "video",
    "url": "https://example.com/videos/20230625_003239.mp4",
    "customer_number": "919970XXXXXX",
    "customer_name": "John Doe",
    "mime_type": "video/mp4"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.sobot.in/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
  <span class="s">"type"</span><span class="p">:</span> <span class="s">"video"</span><span class="p">,</span>
  <span class="s">"url"</span><span class="p">:</span> <span class="s">"https://example.com/videos/20230625_003239.mp4"</span><span class="p">,</span>
  <span class="s">"customer_number"</span><span class="p">:</span> <span class="s">"919970XXXXXX"</span><span class="p">,</span>
  <span class="s">"customer_name"</span><span class="p">:</span> <span class="s">"John Doe"</span><span class="p">,</span>
  <span class="s">"mime_type"</span><span class="p">:</span> <span class="s">"video/mp4"</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'https://api.sobot.in/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'yourapisecretkey'</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{\n    "type": "video",\n    
"url": "https://example.com/videos/20230625_003239.mp4",\n    
"customer_number": "919970XXXXXX",\n    
"customer_name": "John Doe",\n    
"mime_type": "video/mp4"\n}'</span><span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send video messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters-4'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>video</code> in case of Video messages.</td>
<td>-</td>
</tr>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL of an video you want to send to customer and this video file should be publicly accessible. <br /><br /> Please check supported Media Types below.</td>
<td>-</td>
</tr>
<tr>
<td>mime_type</td>
<td>Yes</td>
<td>Mime-type of image that you added in the URL <br /><br /> e.g. video/mp4, video/3gp</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The text to send along with the video message.<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id='supported-media-types-3'>Supported Media Types</h3>
<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>video</td>
<td>video/mp4, video/3gp<br/><br/> Notes: <br/>Only H.264 video codec and AAC audio codec is supported. <br/>We support videos with a single audio stream or no audio stream.</td>
<td>16MB</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h2 id='document-message'>Document Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'https://api.sobot.in/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: yourapiaccesskey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: yourapisecretkey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'content-type'</span>: <span class="s1">'application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
    "type": "document",
    "url": "https://example.com/documents/20230625_003239.pdf",
    "customer_number": "919970XXXXXX",
    "customer_name": "John Doe",
    "mime_type": "application/pdf",
    "filename": "file.pdf"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.sobot.in/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
  <span class="s">"type"</span><span class="p">:</span> <span class="s">"document"</span><span class="p">,</span>
  <span class="s">"url"</span><span class="p">:</span> <span class="s">"https://example.com/documents/20230625_003239.pdf"</span><span class="p">,</span>
  <span class="s">"customer_number"</span><span class="p">:</span> <span class="s">"919970XXXXXX"</span><span class="p">,</span>
  <span class="s">"customer_name"</span><span class="p">:</span> <span class="s">"John Doe"</span><span class="p">,</span>
  <span class="s">"mime_type"</span><span class="p">:</span> <span class="s">"application/pdf"</span><span class="p">,</span>
  <span class="s">"filename"</span><span class="p">:</span> <span class="s">"file.pdf"</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'https://api.sobot.in/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s1">'content-type'</span><span class="o">:</span> <span class="s1">'application/json'</span>

<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{\n    "type": "document",\n    
"url": "https://example.com/documents/20230625_003239.pdf",\n   
 "customer_number": "919970XXXXXX",\n    
 "customer_name": "John Doe",\n    
 "mime_type": "application/pdf",\n    
 "filename": "file.pdf"\n}'</span><span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send document messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters-5'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>document</code> in case of document messages.</td>
<td>-</td>
</tr>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL of an document you want to send to customer and this document file should be publicly accessible. <br /><br /> Please check supported Media Types below.</td>
<td>-</td>
</tr>
<tr>
<td>mime_type</td>
<td>Yes</td>
<td>Mime-type of image that you added in the URL <br /><br /> e.g. application/pdf, application/msword</td>
<td>-</td>
</tr>
<tr>
<td>filename</td>
<td>Yes</td>
<td>Name of a file that you&#39;ve mentioned in a <code>url</code> parameter.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The text to send along with the document message.<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id='supported-media-types-4'>Supported Media Types</h3>
<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>document</td>
<td>text/plain, application/pdf, application/vnd.ms-powerpoint, application/msword, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.presentationml.presentation, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</td>
<td>100MB</td>
</tr>
</tbody></table>
<h3 id='response-5'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h2 id='location-message'>Location Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'https://api.sobot.in/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: yourapiaccesskey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: yourapisecretkey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'content-type'</span>: <span class="s1">'application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
    "type": "location",
    "customer_number": "919970XXXXXX",
    "customer_name": "John Doe",
    "longitude": "78.272125", 
    "latitude": "13.891411",
    "location_name": "New York, NYC",
    "address": "13, New York Street, NY, US."
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.sobot.in/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"location"</span><span class="p">,</span>
    <span class="s">"customer_number"</span><span class="p">:</span> <span class="s">"919970XXXXXX"</span><span class="p">,</span>
    <span class="s">"customer_name"</span><span class="p">:</span> <span class="s">"John Doe"</span><span class="p">,</span>
    <span class="s">"longitude"</span><span class="p">:</span> <span class="s">"78.272125"</span><span class="p">,</span> 
    <span class="s">"latitude"</span><span class="p">:</span> <span class="s">"13.891411"</span><span class="p">,</span>
    <span class="s">"location_name"</span><span class="p">:</span> <span class="s">"New York, NYC"</span><span class="p">,</span>
    <span class="s">"address"</span><span class="p">:</span> <span class="s">"13, New York Street, NY, US."</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'https://api.sobot.in/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s1">'content-type'</span><span class="o">:</span> <span class="s1">'application/json'</span>

<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{\n    {
    "type": "location",\n
    "customer_number": "919970XXXXXX",\n
    "customer_name": "John Doe",\n
    "longitude": "78.272125",\n
    "latitude": "13.891411",\n
    "location_name": "New York, NYC",\n
    "address": "13, New York Street, NY, US."}\n}'</span><span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send location messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters-6'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>location</code> in case of Location messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>longitude</td>
<td>Yes</td>
<td>Longitude of the location.</td>
<td>-</td>
</tr>
<tr>
<td>latitude</td>
<td>Yes</td>
<td>Latitude of the location.</td>
<td>-</td>
</tr>
<tr>
<td>name</td>
<td>No</td>
<td>Name of the location.</td>
<td>-</td>
</tr>
<tr>
<td>Address</td>
<td>No</td>
<td>Only displayed if name is present.</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id='response-6'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h2 id='button-message'>Button Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'https://api.sobot.in/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: yourapiaccesskey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: yourapisecretkey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'content-type'</span>: <span class="s1">'application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
          "message":"Hello",
          "customer_number":"919970XXXXXX",
          "customer_name": "John Doe",
          "type": "quick_reply",
          "buttons": ["one", "two", "three"],
          "header": "This is a header",
          "caption": "This will go in footer"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.sobot.in/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
          <span class="s">"message"</span><span class="p">:</span><span class="s">"Hello"</span><span class="p">,</span>
          <span class="s">"customer_number"</span><span class="p">:</span><span class="s">"919970XXXXXX"</span><span class="p">,</span>
          <span class="s">"customer_name"</span><span class="p">:</span> <span class="s">"John Doe"</span><span class="p">,</span>
          <span class="s">"type"</span><span class="p">:</span> <span class="s">"quick_reply"</span><span class="p">,</span>
          <span class="s">"buttons"</span><span class="p">:</span> <span class="p">[</span><span class="s">"one"</span><span class="p">,</span> <span class="s">"two"</span><span class="p">,</span> <span class="s">"three"</span><span class="p">],</span>
          <span class="s">"header"</span><span class="p">:</span> <span class="s">"This is a header"</span><span class="p">,</span>
          <span class="s">"caption"</span><span class="p">:</span> <span class="s">"This will go in footer"</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'https://api.sobot.in/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{\n
          "message":"Hello",\n
          "customer_number":"919970XXXXXX",\n
          "customer_name": "John Doe",\n
          "type": "quick_reply",\n
          "buttons": ["one", "two", "three"], \n
          "header": "This is a header",\n
          "caption": "This will go in footer"
          \n}'</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send messages with Buttons (Quick reply) to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters-7'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Yes</td>
<td>The text of the text message which can contain URLs which begin with http:// or https://(All URLs are set to preview in message by default.) and formatting (See Below for formattting options) .<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>quick_reply</code> in case of Button messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>buttons</td>
<td>Yes</td>
<td>Array of strings consist of Title of buttons. You can have up to 3 buttons. It cannot be an empty string and must be unique within the message. Emojis are supported, markdown is not. Maximum length: 20 characters.</td>
<td>-</td>
</tr>
<tr>
<td>header</td>
<td>No</td>
<td>Header content displayed on top of a message. No Emojis. markdown and Links are supported Maximum length: 60 characters.</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The footer content. Emojis, markdown, and links are supported. Maximum length: 60 characters.</td>
<td>-</td>
</tr>
</tbody></table>

<p>WhatsApp allows some formatting in messages. To format all or part of a message, use these formatting symbols:</p>

<table><thead>
<tr>
<th>Formatting</th>
<th>Symbol</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>Bold</td>
<td>Asterisk (*)</td>
<td>Your total is <em>$10.50</em>.</td>
</tr>
<tr>
<td>Italics</td>
<td>Underscore (_)</td>
<td>Welcome to <em>WhatsApp</em>!</td>
</tr>
<tr>
<td>Strike-through</td>
<td>Tilde (~)</td>
<td>This is ~better~ best!</td>
</tr>
</tbody></table>
<h3 id='response-7'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h2 id='list-message'>List Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'https://api.sobot.in/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: yourapiaccesskey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: yourapisecretkey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'content-type'</span>: <span class="s1">'application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
          "message":"Hello",
          "customer_number":"919970XXXXXX",
          "customer_name": "John Doe",
          "type": "list",
          "header": "This is a header",
          "caption": "This will go in footer",
          "list_obj": {
              "button": "Show List",
              "sections": [
                  {
                      "title": "one",
                      "rows": [
                          {
                              "title": "First title",
                              "id": "id_1",
                              "description": "test description"
                          },
                          {
                              "title": "second title",
                              "id": "id_2",
                              "description": "test description"
                          }
                      ]
                  }
              ]
          }
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.sobot.in/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
          <span class="s">"message"</span><span class="p">:</span><span class="s">"Hello"</span><span class="p">,</span>
          <span class="s">"customer_number"</span><span class="p">:</span><span class="s">"919970XXXXXX"</span><span class="p">,</span>
          <span class="s">"customer_name"</span><span class="p">:</span> <span class="s">"John Doe"</span><span class="p">,</span>
          <span class="s">"type"</span><span class="p">:</span> <span class="s">"quick_reply"</span><span class="p">,</span>
          <span class="s">"header"</span><span class="p">:</span> <span class="s">"This is a header"</span><span class="p">,</span>
          <span class="s">"caption"</span><span class="p">:</span> <span class="s">"This will go in footer"</span><span class="p">,</span>
          <span class="s">"list_obj"</span><span class="p">:</span> <span class="p">{</span>
              <span class="s">"button"</span><span class="p">:</span> <span class="s">"Show List"</span><span class="p">,</span>
              <span class="s">"sections"</span><span class="p">:</span> <span class="p">[</span>
                  <span class="p">{</span>
                      <span class="s">"title"</span><span class="p">:</span> <span class="s">"one"</span><span class="p">,</span>
                      <span class="s">"rows"</span><span class="p">:</span> <span class="p">[</span>
                          <span class="p">{</span>
                              <span class="s">"title"</span><span class="p">:</span> <span class="s">"First title"</span><span class="p">,</span>
                              <span class="s">"id"</span><span class="p">:</span> <span class="s">"id_1"</span><span class="p">,</span>
                              <span class="s">"description"</span><span class="p">:</span> <span class="s">"test description"</span>
                          <span class="p">},</span>
                          <span class="p">{</span>
                              <span class="s">"title"</span><span class="p">:</span> <span class="s">"second title"</span><span class="p">,</span>
                              <span class="s">"id"</span><span class="p">:</span> <span class="s">"id_2"</span><span class="p">,</span>
                              <span class="s">"description"</span><span class="p">:</span> <span class="s">"test description"</span>
                          <span class="p">}</span>
                      <span class="p">]</span>
                  <span class="p">}</span>
              <span class="p">]</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'https://api.sobot.in/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{\n
          "message":"Hello",\n
          "customer_number":"919970XXXXXX",\n
          "customer_name": "John Doe",\n
          "type": "quick_reply",\n
          "header": "This is a header",\n
          "caption": "This will go in footer"
          "list_obj": {\n
              "button": "Show List",\n
              "sections": [\n
                  {\n
                      "title": "one",\n
                      "rows": [\n
                          {\n
                              "title": "First title",\n
                              "id": "id_1",\n
                              "description": "test description"\n
                          },\n
                          {\n
                              "title": "second title",\n
                              "id": "id_2",\n
                              "description": "test description"\n
                          }\n
                      ]\n
                  }\n
              ]\n
          }\n}'</span>
<span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send List messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters-8'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Yes</td>
<td>The text of the text message which can contain URLs which begin with http:// or https://(All URLs are set to preview in message by default.) and formatting (See Below for formattting options) .<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>list</code> in case of List messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>list_obj</td>
<td>Yes</td>
<td>A object which consist of following parameters. <table><thead><tr><td>Parameter</td><td>Required</td><td>Description</td><tr><thead><tr><td>button</td><td>Yes</td><td>Text of the button to trigger the List. It cannot be an empty string and must be unique within the message. Emojis are supported, markdown is not. Maximum length: 20 characters.</td></tr><tr><td>sections</td><td>Yes</td><td>Array of section objects. Minimum of 1, maximum of 10. Each section object has two required parameters as follows: <table><tr><td>title</td><td>Title for section. Acts like a separator in the list. Maximum length: 24 characters.</td></tr><tr><td>rows</td><td>Contains a list of rows. You can have a total of 10 rows across your sections. Each row must have a title (Maximum length: 24 characters) and an ID (Maximum length: 200 characters). You can add a description (Maximum length: 72 characters), but it is optional.</td></tr></table></td></tr></table></td>
<td>-</td>
</tr>
<tr>
<td>header</td>
<td>No</td>
<td>Header content displayed on top of a message. No Emojis. markdown and Links are supported Maximum length: 60 characters.</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The footer content. Emojis, markdown, and links are supported. Maximum length: 60 characters.</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id='response-8'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h2 id='single-product-message'>Single Product Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'https://api.sobot.in/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: yourapiaccesskey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: yourapisecretkey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'content-type'</span>: <span class="s1">'application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
          "message":"Hello",
          "customer_number":"919970XXXXXX",
          "customer_name": "John Doe",
          "type": "product",
          "caption": "This will go in footer",
          "product_list": {"product_retailer_id": "sbt_in_4_1"}       
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.sobot.in/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
          <span class="s">"message"</span><span class="p">:</span><span class="s">"Hello"</span><span class="p">,</span>
          <span class="s">"customer_number"</span><span class="p">:</span><span class="s">"919970XXXXXX"</span><span class="p">,</span>
          <span class="s">"customer_name"</span><span class="p">:</span> <span class="s">"John Doe"</span><span class="p">,</span>
          <span class="s">"type"</span><span class="p">:</span> <span class="s">"product"</span><span class="p">,</span>
          <span class="s">"caption"</span><span class="p">:</span> <span class="s">"This will go in footer"</span><span class="p">,</span>
          <span class="s">"product_list"</span><span class="p">:</span> <span class="p">{</span><span class="s">"product_retailer_id"</span><span class="p">:</span> <span class="s">"sbt_in_4_1"</span><span class="p">}</span>       
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'https://api.sobot.in/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{\n
          "message":"Hello",\n
          "customer_number":"919970XXXXXX",\n
          "customer_name": "John Doe",\n
          "type": "product",\n
          "caption": "This will go in footer",\n
          "product_list": {"product_retailer_id": "sbt_in_4_1"}\n}'</span>
<span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send Single Product messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<p>This API needs Meta catalog to be connected to your WhatsApp business account. The catalog id should be updated in Sobot before using this API. This API uses that catalog id as a default for refering all your products with <code>product_retailer_id</code>.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters-9'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Yes</td>
<td>The text of the text message which can contain URLs which begin with http:// or https://(All URLs are set to preview in message by default.) and formatting (See Below for formattting options) .<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>product</code> in case of Single Product messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>product_list</td>
<td>Yes</td>
<td>A object which consist of following parameters. <table><thead><tr><td>Parameter</td><td>Required</td><td>Description</td><tr><thead><tr><td>product_retailer_id</td><td>Yes</td><td>Unique identifier of the product in a catalog. To get this ID go to <a href="https://business.facebook.com/commerce/">Meta Commerce Manager</a> and select your Meta Business account.</td></tr></table></td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The footer content. Emojis, markdown, and links are supported. Maximum length: 60 characters.</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id='response-9'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h2 id='multi-product-message'>Multi-product Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">'https://api.sobot.in/message/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: yourapiaccesskey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-secret: yourapisecretkey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'content-type'</span>: <span class="s1">'application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
          "message":"Hello",
          "customer_number":"919970XXXXXX",
          "customer_name": "John Doe",
          "type": "product",
          "header": "This is a header",
          "caption": "This will go in footer",
          "product_list": {
            "sections": [
            {
                    "title": "Cakes",
                    "product_items": [
                        {
                            "product_retailer_id": "sbt_in_4_1"
                        },
                        {
                            "product_retailer_id": "sbt_in_4_2"
                        }
                    ]
                }
            ]
          }       
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.sobot.in/message/"</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
          <span class="s">"message"</span><span class="p">:</span><span class="s">"Hello"</span><span class="p">,</span>
          <span class="s">"customer_number"</span><span class="p">:</span><span class="s">"919970XXXXXX"</span><span class="p">,</span>
          <span class="s">"customer_name"</span><span class="p">:</span> <span class="s">"John Doe"</span><span class="p">,</span>
          <span class="s">"type"</span><span class="p">:</span> <span class="s">"product"</span><span class="p">,</span>
          <span class="s">"header"</span><span class="p">:</span> <span class="s">"This is a header"</span><span class="p">,</span>
          <span class="s">"caption"</span><span class="p">:</span> <span class="s">"This will go in footer"</span><span class="p">,</span>
          <span class="s">"product_list"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"sections"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                    <span class="s">"title"</span><span class="p">:</span> <span class="s">"Cakes"</span><span class="p">,</span>
                    <span class="s">"product_items"</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s">"product_retailer_id"</span><span class="p">:</span> <span class="s">"sbt_in_4_1"</span>
                        <span class="p">},</span>
                        <span class="p">{</span>
                            <span class="s">"product_retailer_id"</span><span class="p">:</span> <span class="s">"sbt_in_4_2"</span>
                        <span class="p">}</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">]</span>
          <span class="p">}</span>       
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s">'x-api-secret'</span><span class="p">:</span> <span class="s">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">'HTTP/Request2.php'</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">'https://api.sobot.in/message/'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'follow_redirects'</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'x-api-key'</span> <span class="o">=&gt;</span> <span class="s1">'yourapiaccesskey'</span><span class="p">,</span>
  <span class="s1">'x-api-secret'</span> <span class="o">=&gt;</span> <span class="s1">'yourapisecretkey'</span><span class="p">,</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">'{\n
          "message":"Hello",\n
          "customer_number":"919970XXXXXX",\n
          "customer_name": "John Doe",\n
          "type": "product",\n
          "header": "This is a header",\n
          "caption": "This will go in footer",\n
          "product_list": {\n
            "sections": [\n
            {\n
                    "title": "Cakes",\n
                    "product_items": [\n
                        {\n
                            "product_retailer_id": "sbt_in_4_1"\n
                        },\n
                        {\n
                            "product_retailer_id": "sbt_in_4_2"\n
                        }\n
                    ]\n
                }\n
            ]\n
          }\n}'</span>
<span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Unexpected HTTP status: '</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">' '</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Error: '</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA=="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message sent successfully."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send Single Product messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>

<p>This API needs Meta catalog to be connected to your WhatsApp business account. The catalog id should be updated in Sobot before using this API. This API uses that catalog id as a default for refering all your products with <code>product_retailer_id</code>.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters-10'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Yes</td>
<td>The text of the text message which can contain URLs which begin with http:// or https://(All URLs are set to preview in message by default.) and formatting (See Below for formattting options) .<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>product</code> in case of Single Product messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>product_list</td>
<td>Yes</td>
<td>A object which consist of following parameters. <table><thead><tr><td>Parameter</td><td>Required</td><td>Description</td></tr><thead><tr><td>sections</td><td>Yes</td><td>Array of section objects. Minimum of 1, maximum of 30. Each section object has two required parameters as follows: <table><tr><td>title</td><td>Title for section. Acts like a separator in the Product List. Maximum length: 24 characters.</td></tr><tr><td>Product Items</td><td>Array of product objects. There is a minimum of 1 product per section and a maximum of 30 products across all sections. Every object consist of single key <code>product_retailer_id</code>. This is a unique identifier of the product in a catalog. To get this ID go to <a href="https://business.facebook.com/commerce/">Meta Commerce Manager</a> and select your Meta Business account.</td></tr></table></td></tr></table></td>
<td>-</td>
</tr>
<tr>
<td>header</td>
<td>No</td>
<td>Header content displayed on top of a message. No Emojis. markdown and Links are supported Maximum length: 60 characters.</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The footer content. Emojis, markdown, and links are supported. Maximum length: 60 characters.</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id='response-10'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="php">PHP</a>
          </div>
      </div>
    </div>
  </body>
</html>
