
<!doctype html>
<html>
  <head>
    <link href="images/favicon-0ee25f2e.png" rel="icon" type="image/png" />
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Sobot API"
        >
    <title>Sobot API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-791aa545.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-157c4438.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-d2a765c7.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="php">PHP</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#sobot-api-documentation" class="toc-h1 toc-link" data-title="Sobot API Documentation">Sobot API Documentation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getting-started" class="toc-h2 toc-link" data-title="Getting Started">Getting Started</a>
                  </li>
                  <li>
                    <a href="#api-endpoints-and-operations" class="toc-h2 toc-link" data-title="API Endpoints and Operations">API Endpoints and Operations</a>
                  </li>
                  <li>
                    <a href="#explore-and-integrate" class="toc-h2 toc-link" data-title="Explore and Integrate">Explore and Integrate</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#free-flow-messages" class="toc-h1 toc-link" data-title="Free-flow Messages">Free-flow Messages</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#text-message" class="toc-h2 toc-link" data-title="Text Message">Text Message</a>
                  </li>
                  <li>
                    <a href="#image-message" class="toc-h2 toc-link" data-title="Image Message">Image Message</a>
                  </li>
                  <li>
                    <a href="#sticker-message" class="toc-h2 toc-link" data-title="Sticker Message">Sticker Message</a>
                  </li>
                  <li>
                    <a href="#video-message" class="toc-h2 toc-link" data-title="Video Message">Video Message</a>
                  </li>
                  <li>
                    <a href="#document-message" class="toc-h2 toc-link" data-title="Document Message">Document Message</a>
                  </li>
                  <li>
                    <a href="#location-message" class="toc-h2 toc-link" data-title="Location Message">Location Message</a>
                  </li>
                  <li>
                    <a href="#button-message" class="toc-h2 toc-link" data-title="Button Message">Button Message</a>
                  </li>
                  <li>
                    <a href="#list-message" class="toc-h2 toc-link" data-title="List Message">List Message</a>
                  </li>
                  <li>
                    <a href="#single-product-message" class="toc-h2 toc-link" data-title="Single Product Message">Single Product Message</a>
                  </li>
                  <li>
                    <a href="#multi-product-message" class="toc-h2 toc-link" data-title="Multi-product Message">Multi-product Message</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#templates" class="toc-h1 toc-link" data-title="Templates">Templates</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-text-template" class="toc-h2 toc-link" data-title="Add Text Template">Add Text Template</a>
                  </li>
                  <li>
                    <a href="#add-text-template-with-variables" class="toc-h2 toc-link" data-title="Add Text Template with Variables">Add Text Template with Variables</a>
                  </li>
                  <li>
                    <a href="#add-button-template" class="toc-h2 toc-link" data-title="Add Button Template">Add Button Template</a>
                  </li>
                  <li>
                    <a href="#add-template-with-cta" class="toc-h2 toc-link" data-title="Add Template with CTA">Add Template with CTA</a>
                  </li>
                  <li>
                    <a href="#add-image-template" class="toc-h2 toc-link" data-title="Add Image Template">Add Image Template</a>
                  </li>
                  <li>
                    <a href="#add-video-template" class="toc-h2 toc-link" data-title="Add Video Template">Add Video Template</a>
                  </li>
                  <li>
                    <a href="#add-document-template" class="toc-h2 toc-link" data-title="Add document Template">Add document Template</a>
                  </li>
                  <li>
                    <a href="#get-all-templates" class="toc-h2 toc-link" data-title="Get All Templates">Get All Templates</a>
                  </li>
                  <li>
                    <a href="#get-pending-templates" class="toc-h2 toc-link" data-title="Get Pending Templates">Get Pending Templates</a>
                  </li>
                  <li>
                    <a href="#get-approved-templates" class="toc-h2 toc-link" data-title="Get Approved Templates">Get Approved Templates</a>
                  </li>
                  <li>
                    <a href="#get-rejected-templates" class="toc-h2 toc-link" data-title="Get Rejected Templates">Get Rejected Templates</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#template-messages" class="toc-h1 toc-link" data-title="Template Messages">Template Messages</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#send-text-message" class="toc-h2 toc-link" data-title="Send Text Message">Send Text Message</a>
                  </li>
                  <li>
                    <a href="#send-text-message-with-variables" class="toc-h2 toc-link" data-title="Send Text Message with Variables">Send Text Message with Variables</a>
                  </li>
                  <li>
                    <a href="#send-text-message-with-cta" class="toc-h2 toc-link" data-title="Send Text Message with CTA">Send Text Message with CTA</a>
                  </li>
                  <li>
                    <a href="#send-image-message" class="toc-h2 toc-link" data-title="Send Image Message">Send Image Message</a>
                  </li>
                  <li>
                    <a href="#send-video-message" class="toc-h2 toc-link" data-title="Send Video Message">Send Video Message</a>
                  </li>
                  <li>
                    <a href="#send-document-message" class="toc-h2 toc-link" data-title="Send Document Message">Send Document Message</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhook" class="toc-h1 toc-link" data-title="Webhook">Webhook</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#adding-a-webhook" class="toc-h2 toc-link" data-title="Adding a Webhook">Adding a Webhook</a>
                  </li>
                  <li>
                    <a href="#text-message-payload" class="toc-h2 toc-link" data-title="Text Message Payload">Text Message Payload</a>
                  </li>
                  <li>
                    <a href="#image-message-payload" class="toc-h2 toc-link" data-title="Image Message Payload">Image Message Payload</a>
                  </li>
                  <li>
                    <a href="#video-message-payload" class="toc-h2 toc-link" data-title="Video Message Payload">Video Message Payload</a>
                  </li>
                  <li>
                    <a href="#message-status-updates" class="toc-h2 toc-link" data-title="Message Status Updates">Message Status Updates</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Copyright &copy; Sobot 2023</a></li>
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='sobot-api-documentation'>Sobot API Documentation</h1>
<p>Welcome to the Sobot API documentation! Our API allows you to seamlessly integrate the power of the Sobot platform into your applications, enabling you to manage WhatsApp interactions effectively. Sobot is a SaaS platform designed to provide a comprehensive WhatsApp team inbox that facilitates seamless communication with customers, resolution of queries, execution of marketing campaigns, and more.</p>

<p>Whether you&#39;re building a customer support tool, enhancing your marketing capabilities, or creating innovative communication solutions, the Sobot API empowers you with a range of operations to interact with the WhatsApp team inbox and harness its features.</p>
<h2 id='getting-started'>Getting Started</h2>
<p>To get started with the Sobot API, you&#39;ll need an <a href="#authentication">Access &amp; Secret Keys</a> that you can <a href="https://app.sobot.in/signup">obtain by signing up</a> for an account on our platform. Once you have your Access &amp; Secret keys, you can authenticate your requests and start accessing the Sobot API endpoints.</p>

<p>We provide language bindings in several programming languages, including Shell, Python, and JavaScript. In this documentation, you&#39;ll find code examples demonstrating API usage in these languages. The code examples are displayed in the dark area to the right, and you can easily switch between programming languages using the tabs in the top right corner of the code examples.</p>
<h2 id='api-endpoints-and-operations'>API Endpoints and Operations</h2>
<p>The Sobot API supports a variety of operations that allow you to interact with the WhatsApp team inbox seamlessly. Some of the key operations supported by the API include:</p>

<p><strong>Add Customer</strong>: You can use this endpoint to add new customers to the WhatsApp team inbox, ensuring that you maintain a comprehensive contact list.</p>

<p><strong>Initiate Campaigns</strong>: Launch and manage marketing campaigns directly from your application using the API, enabling you to engage with your audience effectively.</p>

<p><strong>Send Messages</strong>: Send various types of messages, including text, videos, images, and templates, to customers through the WhatsApp team inbox, facilitating efficient communication.</p>

<p><strong>Create/Sync Templates</strong>: Simplify message creation by utilizing templates. This endpoint allows you to create and synchronize message templates effortlessly.</p>
<h2 id='explore-and-integrate'>Explore and Integrate</h2>
<p>This documentation serves as your comprehensive guide to integrating the Sobot API into your applications. You&#39;ll find detailed explanations, code examples, and best practices to ensure a smooth integration process.</p>

<p>So, whether you&#39;re aiming to enhance customer support, execute marketing strategies, or innovate with WhatsApp communication, the Sobot API equips you with the tools you need. Let&#39;s explore the possibilities together!</p>

<p>Feel free to refer to the code examples on this page and select the programming language that suits your development environment. If you have any questions or need assistance, don&#39;t hesitate to reach out to our support team.</p>

<p>Let&#39;s dive into the world of seamless WhatsApp communication with Sobot API!</p>
<h1 id='authentication'>Authentication</h1>
<p>Sobot employs authentication keys to grant access to its API. To acquire a new Sobot API keys, please follow below instructons to obtain keys from our portal.</p>

<p>Sign In to <a href="https://app.sobot.in">app.sobot.in</a> -&gt; Settings -&gt; Developers tools - &gt; Generate New Keys</p>

<p>(Only Admin can generate API Keys.)</p>

<p><img src="images/generate_keys-97c39684.png" alt="" /></p>

<aside class="warning">
Every time you will generate the new keys, old keys will be deprecated. 
</aside>

<p>For each API request directed to the server, Sobot requires the API keys to be included in the header. The header should follow this format:</p>

<p><code>x-api-key: yourapiaccesskey</code></p>

<p><code>x-api-secret: yourapisecretkey</code></p>

<p>These keys play a crucial role in ensuring the security and validity of API interactions. Please ensure that you incorporate your provided access and secret keys correctly in the headers of your API requests.</p>

<aside class="notice">
You must replace <code>yourapiaccesskey</code> & <code>yourapisecretkey</code> with your personal API keys.
</aside>
<h1 id='free-flow-messages'>Free-flow Messages</h1>
<p><h2 id='text-message'>Text Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
          &quot;message&quot;:&quot;Hello&quot;,
          &quot;type&quot;:&quot;text&quot;,
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
          &quot;customer_name&quot;: &quot;John Doe&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
  <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Hello&quot;</span><span class="p">,</span>
  <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;text&quot;</span><span class="p">,</span>
  <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
  <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{&quot;message&quot;:&quot;Hello&quot;,
&quot;type&quot;:&quot;text&quot;,
&quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
&quot;customer_name&quot;: &quot;John Doe&quot;}&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send text messages to customers using the Sobot platform, enabling seamless communication with your customer.</p></p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST https://api.sobot.in/message/</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Yes</td>
<td>The text of the text message which can contain URLs which begin with http:// or https://(All URLs are set to preview in message by default.) and formatting (See Below for formattting options) .<br/> <br/> Maximum length: 4096 characters</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>Text</code> in case of Text messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
</tbody></table>

<p>WhatsApp allows some formatting in messages. To format all or part of a message, use these formatting symbols:</p>

<table><thead>
<tr>
<th>Formatting</th>
<th>Symbol</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>Bold</td>
<td>Asterisk (*)</td>
<td>Your total is <em>$10.50</em>.</td>
</tr>
<tr>
<td>Italics</td>
<td>Underscore (_)</td>
<td>Welcome to <em>WhatsApp</em>!</td>
</tr>
<tr>
<td>Strike-through</td>
<td>Tilde (~)</td>
<td>This is ~better~ best!</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>

<p><h2 id='image-message'>Image Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;type&quot;: &quot;image&quot;,
    &quot;url&quot;: &quot;https://example.com/images/20230625_003239.jpg&quot;,
    &quot;customer_number&quot;: &quot;919970XXXXXX&quot;,
    &quot;customer_name&quot;: &quot;John Doe&quot;,
    &quot;mime_type&quot;: &quot;image/jpeg&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
  <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;image&quot;</span><span class="p">,</span>
  <span class="s">&quot;url&quot;</span><span class="p">:</span> <span class="s">&quot;https://example.com/images/20230625_003239.jpg&quot;</span><span class="p">,</span>
  <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
  <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
  <span class="s">&quot;mime_type&quot;</span><span class="p">:</span> <span class="s">&quot;image/jpeg&quot;</span>
<span class="p">})</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n<br>
&quot;type&quot;: &quot;image&quot;,\n<br>
&quot;url&quot;: &quot;https://example.com/images/20230625_003239.jpg&quot;,\n<br>
&quot;customer_number&quot;: &quot;919970XXXXXX&quot;,\n<br>
&quot;customer_name&quot;: &quot;John Doe&quot;,\n<br>
&quot;mime_type&quot;: &quot;image/jpeg&quot;\n}&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send image messages to customers using the Sobot platform, enabling seamless communication with your customer.</p></p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST https://api.sobot.in/message/</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>image</code> in case of Image messages.</td>
<td>-</td>
</tr>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL of an image you want to send to customer and this image should be publicly accessible. <br /><br /> Please check supported Media Types below.</td>
<td>-</td>
</tr>
<tr>
<td>mime_type</td>
<td>Yes</td>
<td>Mime-type of image that you added in the URL <br /><br /> e.g. image/jpeg, image/png</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The text to send along with the image message.<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
</tbody></table>

<h3 id='supported-media-types'>Supported Media Types</h3>

<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>image</td>
<td>image/jpeg, image/png Images must be 8-bit, RGB or RGBA</td>
<td>5MB</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>

<p><h2 id='sticker-message'>Sticker Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;type&quot;: &quot;image&quot;,
    &quot;url&quot;: &quot;https://example.com/stickers/20230625_003239.webp&quot;,
    &quot;customer_number&quot;: &quot;919970XXXXXX&quot;,
    &quot;customer_name&quot;: &quot;John Doe&quot;,
    &quot;mime_type&quot;: &quot;image/webp&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
  <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;image&quot;</span><span class="p">,</span>
  <span class="s">&quot;url&quot;</span><span class="p">:</span> <span class="s">&quot;https://example.com/stickers/20230625_003239.webp&quot;</span><span class="p">,</span>
  <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
  <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
  <span class="s">&quot;mime_type&quot;</span><span class="p">:</span> <span class="s">&quot;image/webp&quot;</span>
<span class="p">})</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n<br>
&quot;type&quot;: &quot;image&quot;,\n<br>
&quot;url&quot;: &quot;https://example.com/stickers/20230625_003239.webp&quot;,\n<br>
&quot;customer_number&quot;: &quot;919970XXXXXX&quot;,\n<br>
&quot;customer_name&quot;: &quot;John Doe&quot;,\n<br>
&quot;mime_type&quot;: &quot;image/webp&quot;\n}&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send sticker messages to customers using the Sobot platform, enabling seamless communication with your customer.</p></p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST https://api.sobot.in/message/</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>sticker</code> in case of Sticker messages.</td>
<td>-</td>
</tr>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL of an sticker you want to send to customer and this sticker file should be publicly accessible. <br /><br /> Please check supported Media Types below.</td>
<td>-</td>
</tr>
<tr>
<td>mime_type</td>
<td>Yes</td>
<td>Mime-type of image that you added in the URL <br /><br /> e.g. image/webp</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
</tbody></table>

<h3 id='supported-media-types'>Supported Media Types</h3>

<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>sticker</td>
<td>image/webp</td>
<td>Static stickers: 100KB<br/><br/> Animated stickers: 500KB</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>

<p><h2 id='video-message'>Video Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;type&quot;: &quot;video&quot;,
    &quot;url&quot;: &quot;https://example.com/videos/20230625_003239.mp4&quot;,
    &quot;customer_number&quot;: &quot;919970XXXXXX&quot;,
    &quot;customer_name&quot;: &quot;John Doe&quot;,
    &quot;mime_type&quot;: &quot;video/mp4&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
  <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;video&quot;</span><span class="p">,</span>
  <span class="s">&quot;url&quot;</span><span class="p">:</span> <span class="s">&quot;https://example.com/videos/20230625_003239.mp4&quot;</span><span class="p">,</span>
  <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
  <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
  <span class="s">&quot;mime_type&quot;</span><span class="p">:</span> <span class="s">&quot;video/mp4&quot;</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n    &quot;type&quot;: &quot;video&quot;,\n<br>
&quot;url&quot;: &quot;https://example.com/videos/20230625_003239.mp4&quot;,\n<br>
&quot;customer_number&quot;: &quot;919970XXXXXX&quot;,\n<br>
&quot;customer_name&quot;: &quot;John Doe&quot;,\n<br>
&quot;mime_type&quot;: &quot;video/mp4&quot;\n}&#39;</span><span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send video messages to customers using the Sobot platform, enabling seamless communication with your customer.</p></p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST https://api.sobot.in/message/</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>video</code> in case of Video messages.</td>
<td>-</td>
</tr>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL of an video you want to send to customer and this video file should be publicly accessible. <br /><br /> Please check supported Media Types below.</td>
<td>-</td>
</tr>
<tr>
<td>mime_type</td>
<td>Yes</td>
<td>Mime-type of image that you added in the URL <br /><br /> e.g. video/mp4, video/3gp</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The text to send along with the video message.<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
</tbody></table>

<h3 id='supported-media-types'>Supported Media Types</h3>

<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>video</td>
<td>video/mp4, video/3gp<br/><br/> Notes: <br/>Only H.264 video codec and AAC audio codec is supported. <br/>We support videos with a single audio stream or no audio stream.</td>
<td>16MB</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>

<p><h2 id='document-message'>Document Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;type&quot;: &quot;document&quot;,
    &quot;url&quot;: &quot;https://example.com/documents/20230625_003239.pdf&quot;,
    &quot;customer_number&quot;: &quot;919970XXXXXX&quot;,
    &quot;customer_name&quot;: &quot;John Doe&quot;,
    &quot;mime_type&quot;: &quot;application/pdf&quot;,
    &quot;filename&quot;: &quot;file.pdf&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
  <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;document&quot;</span><span class="p">,</span>
  <span class="s">&quot;url&quot;</span><span class="p">:</span> <span class="s">&quot;https://example.com/documents/20230625_003239.pdf&quot;</span><span class="p">,</span>
  <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
  <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
  <span class="s">&quot;mime_type&quot;</span><span class="p">:</span> <span class="s">&quot;application/pdf&quot;</span><span class="p">,</span>
  <span class="s">&quot;filename&quot;</span><span class="p">:</span> <span class="s">&quot;file.pdf&quot;</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span><span class="o">:</span> <span class="s1">&#39;application/json&#39;</span></p>

<p><span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n    &quot;type&quot;: &quot;document&quot;,\n<br>
&quot;url&quot;: &quot;https://example.com/documents/20230625_003239.pdf&quot;,\n<br>
 &quot;customer_number&quot;: &quot;919970XXXXXX&quot;,\n<br>
 &quot;customer_name&quot;: &quot;John Doe&quot;,\n<br>
 &quot;mime_type&quot;: &quot;application/pdf&quot;,\n<br>
 &quot;filename&quot;: &quot;file.pdf&quot;\n}&#39;</span><span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send document messages to customers using the Sobot platform, enabling seamless communication with your customer.</p></p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST https://api.sobot.in/message/</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>document</code> in case of document messages.</td>
<td>-</td>
</tr>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL of an document you want to send to customer and this document file should be publicly accessible. <br /><br /> Please check supported Media Types below.</td>
<td>-</td>
</tr>
<tr>
<td>mime_type</td>
<td>Yes</td>
<td>Mime-type of image that you added in the URL <br /><br /> e.g. application/pdf, application/msword</td>
<td>-</td>
</tr>
<tr>
<td>filename</td>
<td>Yes</td>
<td>Name of a file that you have mentioned in a <code>url</code> parameter.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The text to send along with the document message.<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
</tbody></table>

<h3 id='supported-media-types'>Supported Media Types</h3>

<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>document</td>
<td>text/plain, application/pdf, application/vnd.ms-powerpoint, application/msword, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.presentationml.presentation, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</td>
<td>100MB</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>

<p><h2 id='location-message'>Location Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;type&quot;: &quot;location&quot;,
    &quot;customer_number&quot;: &quot;919970XXXXXX&quot;,
    &quot;customer_name&quot;: &quot;John Doe&quot;,
    &quot;longitude&quot;: &quot;78.272125&quot;, 
    &quot;latitude&quot;: &quot;13.891411&quot;,
    &quot;location_name&quot;: &quot;New York, NYC&quot;,
    &quot;address&quot;: &quot;13, New York Street, NY, US.&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;location&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
    <span class="s">&quot;longitude&quot;</span><span class="p">:</span> <span class="s">&quot;78.272125&quot;</span><span class="p">,</span> 
    <span class="s">&quot;latitude&quot;</span><span class="p">:</span> <span class="s">&quot;13.891411&quot;</span><span class="p">,</span>
    <span class="s">&quot;location_name&quot;</span><span class="p">:</span> <span class="s">&quot;New York, NYC&quot;</span><span class="p">,</span>
    <span class="s">&quot;address&quot;</span><span class="p">:</span> <span class="s">&quot;13, New York Street, NY, US.&quot;</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span><span class="o">:</span> <span class="s1">&#39;application/json&#39;</span></p>

<p><span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n    {
    &quot;type&quot;: &quot;location&quot;,\n
    &quot;customer_number&quot;: &quot;919970XXXXXX&quot;,\n
    &quot;customer_name&quot;: &quot;John Doe&quot;,\n
    &quot;longitude&quot;: &quot;78.272125&quot;,\n
    &quot;latitude&quot;: &quot;13.891411&quot;,\n
    &quot;location_name&quot;: &quot;New York, NYC&quot;,\n
    &quot;address&quot;: &quot;13, New York Street, NY, US.&quot;}\n}&#39;</span><span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send location messages to customers using the Sobot platform, enabling seamless communication with your customer.</p></p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST https://api.sobot.in/message/</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>location</code> in case of Location messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>longitude</td>
<td>Yes</td>
<td>Longitude of the location.</td>
<td>-</td>
</tr>
<tr>
<td>latitude</td>
<td>Yes</td>
<td>Latitude of the location.</td>
<td>-</td>
</tr>
<tr>
<td>name</td>
<td>No</td>
<td>Name of the location.</td>
<td>-</td>
</tr>
<tr>
<td>Address</td>
<td>No</td>
<td>Only displayed if name is present.</td>
<td>-</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>

<p><h2 id='button-message'>Button Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
          &quot;message&quot;:&quot;Hello&quot;,
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
          &quot;customer_name&quot;: &quot;John Doe&quot;,
          &quot;type&quot;: &quot;quick_reply&quot;,
          &quot;buttons&quot;: [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;],
          &quot;header&quot;: &quot;This is a header&quot;,
          &quot;caption&quot;: &quot;This will go in footer&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
          <span class="s">&quot;message&quot;</span><span class="p">:</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span>
          <span class="s">&quot;customer_number&quot;</span><span class="p">:</span><span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
          <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
          <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;quick_reply&quot;</span><span class="p">,</span>
          <span class="s">&quot;buttons&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">],</span>
          <span class="s">&quot;header&quot;</span><span class="p">:</span> <span class="s">&quot;This is a header&quot;</span><span class="p">,</span>
          <span class="s">&quot;caption&quot;</span><span class="p">:</span> <span class="s">&quot;This will go in footer&quot;</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n
          &quot;message&quot;:&quot;Hello&quot;,\n
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,\n
          &quot;customer_name&quot;: &quot;John Doe&quot;,\n
          &quot;type&quot;: &quot;quick_reply&quot;,\n
          &quot;buttons&quot;: [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;], \n
          &quot;header&quot;: &quot;This is a header&quot;,\n
          &quot;caption&quot;: &quot;This will go in footer&quot;
          \n}&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send messages with Buttons (Quick reply) to customers using the Sobot platform, enabling seamless communication with your customer.</p></p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST https://api.sobot.in/message/</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Yes</td>
<td>The text of the text message which can contain URLs which begin with http:// or https://(All URLs are set to preview in message by default.) and formatting (See Below for formattting options) .<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>quick_reply</code> in case of Button messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>buttons</td>
<td>Yes</td>
<td>Array of strings consist of Title of buttons. You can have up to 3 buttons. It cannot be an empty string and must be unique within the message. Emojis are supported, markdown is not. <br/> <br/>Maximum length: 20 characters for each botton title.</td>
<td>-</td>
</tr>
<tr>
<td>header</td>
<td>No</td>
<td>Header content displayed on top of a message. No Emojis. markdown and Links are supported Maximum length: 60 characters.</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The footer content. Emojis, markdown, and links are supported. Maximum length: 60 characters.</td>
<td>-</td>
</tr>
</tbody></table>

<p>WhatsApp allows some formatting in messages. To format all or part of a message, use these formatting symbols:</p>

<table><thead>
<tr>
<th>Formatting</th>
<th>Symbol</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>Bold</td>
<td>Asterisk (*)</td>
<td>Your total is <em>$10.50</em>.</td>
</tr>
<tr>
<td>Italics</td>
<td>Underscore (_)</td>
<td>Welcome to <em>WhatsApp</em>!</td>
</tr>
<tr>
<td>Strike-through</td>
<td>Tilde (~)</td>
<td>This is ~better~ best!</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>

<p><h2 id='list-message'>List Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
          &quot;message&quot;:&quot;Hello&quot;,
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
          &quot;customer_name&quot;: &quot;John Doe&quot;,
          &quot;type&quot;: &quot;list&quot;,
          &quot;header&quot;: &quot;This is a header&quot;,
          &quot;caption&quot;: &quot;This will go in footer&quot;,
          &quot;list_obj&quot;: {
              &quot;button&quot;: &quot;Show List&quot;,
              &quot;sections&quot;: [
                  {
                      &quot;title&quot;: &quot;one&quot;,
                      &quot;rows&quot;: [
                          {
                              &quot;title&quot;: &quot;First title&quot;,
                              &quot;id&quot;: &quot;id_1&quot;,
                              &quot;description&quot;: &quot;test description&quot;
                          },
                          {
                              &quot;title&quot;: &quot;second title&quot;,
                              &quot;id&quot;: &quot;id_2&quot;,
                              &quot;description&quot;: &quot;test description&quot;
                          }
                      ]
                  }
              ]
          }
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
          <span class="s">&quot;message&quot;</span><span class="p">:</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span>
          <span class="s">&quot;customer_number&quot;</span><span class="p">:</span><span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
          <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
          <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;quick_reply&quot;</span><span class="p">,</span>
          <span class="s">&quot;header&quot;</span><span class="p">:</span> <span class="s">&quot;This is a header&quot;</span><span class="p">,</span>
          <span class="s">&quot;caption&quot;</span><span class="p">:</span> <span class="s">&quot;This will go in footer&quot;</span><span class="p">,</span>
          <span class="s">&quot;list_obj&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s">&quot;button&quot;</span><span class="p">:</span> <span class="s">&quot;Show List&quot;</span><span class="p">,</span>
              <span class="s">&quot;sections&quot;</span><span class="p">:</span> <span class="p">[</span>
                  <span class="p">{</span>
                      <span class="s">&quot;title&quot;</span><span class="p">:</span> <span class="s">&quot;one&quot;</span><span class="p">,</span>
                      <span class="s">&quot;rows&quot;</span><span class="p">:</span> <span class="p">[</span>
                          <span class="p">{</span>
                              <span class="s">&quot;title&quot;</span><span class="p">:</span> <span class="s">&quot;First title&quot;</span><span class="p">,</span>
                              <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="s">&quot;id_1&quot;</span><span class="p">,</span>
                              <span class="s">&quot;description&quot;</span><span class="p">:</span> <span class="s">&quot;test description&quot;</span>
                          <span class="p">},</span>
                          <span class="p">{</span>
                              <span class="s">&quot;title&quot;</span><span class="p">:</span> <span class="s">&quot;second title&quot;</span><span class="p">,</span>
                              <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="s">&quot;id_2&quot;</span><span class="p">,</span>
                              <span class="s">&quot;description&quot;</span><span class="p">:</span> <span class="s">&quot;test description&quot;</span>
                          <span class="p">}</span>
                      <span class="p">]</span>
                  <span class="p">}</span>
              <span class="p">]</span>
          <span class="p">}</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n
          &quot;message&quot;:&quot;Hello&quot;,\n
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,\n
          &quot;customer_name&quot;: &quot;John Doe&quot;,\n
          &quot;type&quot;: &quot;quick_reply&quot;,\n
          &quot;header&quot;: &quot;This is a header&quot;,\n
          &quot;caption&quot;: &quot;This will go in footer&quot;
          &quot;list_obj&quot;: {\n
              &quot;button&quot;: &quot;Show List&quot;,\n
              &quot;sections&quot;: [\n
                  {\n
                      &quot;title&quot;: &quot;one&quot;,\n
                      &quot;rows&quot;: [\n
                          {\n
                              &quot;title&quot;: &quot;First title&quot;,\n
                              &quot;id&quot;: &quot;id_1&quot;,\n
                              &quot;description&quot;: &quot;test description&quot;\n
                          },\n
                          {\n
                              &quot;title&quot;: &quot;second title&quot;,\n
                              &quot;id&quot;: &quot;id_2&quot;,\n
                              &quot;description&quot;: &quot;test description&quot;\n
                          }\n
                      ]\n
                  }\n
              ]\n
          }\n}&#39;</span>
<span class="p">);</span></p>

<p><span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send List messages to customers using the Sobot platform, enabling seamless communication with your customer.</p></p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST https://api.sobot.in/message/</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Yes</td>
<td>The text of the text message which can contain URLs which begin with http:// or https://(All URLs are set to preview in message by default.) and formatting (See Below for formattting options) .<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>list</code> in case of List messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>list_obj</td>
<td>Yes</td>
<td>A object which consist of following parameters. <table><thead><tr><td>Parameter</td><td>Required</td><td>Description</td><tr><thead><tr><td>button</td><td>Yes</td><td>Text of the button to trigger the List. It cannot be an empty string and must be unique within the message. Emojis are supported, markdown is not. Maximum length: 20 characters.</td></tr><tr><td>sections</td><td>Yes</td><td>Array of section objects. Minimum of 1, maximum of 10. Each section object has two required parameters as follows: <table><tr><td>title</td><td>Title for section. Acts like a separator in the list. Maximum length: 24 characters.</td></tr><tr><td>rows</td><td>Contains a list of rows. You can have a total of 10 rows across your sections. Each row must have a title (Maximum length: 24 characters) and an ID (Maximum length: 200 characters). You can add a description (Maximum length: 72 characters), but it is optional.</td></tr></table></td></tr></table></td>
<td>-</td>
</tr>
<tr>
<td>header</td>
<td>No</td>
<td>Header content displayed on top of a message. No Emojis. markdown and Links are supported Maximum length: 60 characters.</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The footer content. Emojis, markdown, and links are supported. Maximum length: 60 characters.</td>
<td>-</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>

<p><h2 id='single-product-message'>Single Product Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
          &quot;message&quot;:&quot;Hello&quot;,
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
          &quot;customer_name&quot;: &quot;John Doe&quot;,
          &quot;type&quot;: &quot;product&quot;,
          &quot;caption&quot;: &quot;This will go in footer&quot;,
          &quot;product_list&quot;: {&quot;product_retailer_id&quot;: &quot;sbt_in_4_1&quot;}<br>
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
          <span class="s">&quot;message&quot;</span><span class="p">:</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span>
          <span class="s">&quot;customer_number&quot;</span><span class="p">:</span><span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
          <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
          <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;product&quot;</span><span class="p">,</span>
          <span class="s">&quot;caption&quot;</span><span class="p">:</span> <span class="s">&quot;This will go in footer&quot;</span><span class="p">,</span>
          <span class="s">&quot;product_list&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&quot;product_retailer_id&quot;</span><span class="p">:</span> <span class="s">&quot;sbt_in_4_1&quot;</span><span class="p">}</span><br>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n
          &quot;message&quot;:&quot;Hello&quot;,\n
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,\n
          &quot;customer_name&quot;: &quot;John Doe&quot;,\n
          &quot;type&quot;: &quot;product&quot;,\n
          &quot;caption&quot;: &quot;This will go in footer&quot;,\n
          &quot;product_list&quot;: {&quot;product_retailer_id&quot;: &quot;sbt_in_4_1&quot;}\n}&#39;</span>
<span class="p">);</span></p>

<p><span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send Single Product messages to customers using the Sobot platform, enabling seamless communication with your customer.</p></p>

<p>This API needs Meta catalog to be connected to your WhatsApp business account. The catalog id should be updated in Sobot before using this API. This API uses that catalog id as a default for refering all your products with <code>product_retailer_id</code>.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST https://api.sobot.in/message/</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Yes</td>
<td>The text of the text message which can contain URLs which begin with http:// or https://(All URLs are set to preview in message by default.) and formatting (See Below for formattting options) .<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>product</code> in case of Single Product messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>product_list</td>
<td>Yes</td>
<td>A object which consist of following parameters. <table><thead><tr><td>Parameter</td><td>Required</td><td>Description</td><tr><thead><tr><td>product_retailer_id</td><td>Yes</td><td>Unique identifier of the product in a catalog. To get this ID go to <a href="https://business.facebook.com/commerce/">Meta Commerce Manager</a> and select your Meta Business account.</td></tr></table></td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The footer content. Emojis, markdown, and links are supported. Maximum length: 60 characters.</td>
<td>-</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>

<p><h2 id='multi-product-message'>Multi-product Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
          &quot;message&quot;:&quot;Hello&quot;,
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
          &quot;customer_name&quot;: &quot;John Doe&quot;,
          &quot;type&quot;: &quot;product&quot;,
          &quot;header&quot;: &quot;This is a header&quot;,
          &quot;caption&quot;: &quot;This will go in footer&quot;,
          &quot;product_list&quot;: {
            &quot;sections&quot;: [
            {
                    &quot;title&quot;: &quot;Cakes&quot;,
                    &quot;product_items&quot;: [
                        {
                            &quot;product_retailer_id&quot;: &quot;sbt_in_4_1&quot;
                        },
                        {
                            &quot;product_retailer_id&quot;: &quot;sbt_in_4_2&quot;
                        }
                    ]
                }
            ]
          }<br>
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
          <span class="s">&quot;message&quot;</span><span class="p">:</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span>
          <span class="s">&quot;customer_number&quot;</span><span class="p">:</span><span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
          <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
          <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;product&quot;</span><span class="p">,</span>
          <span class="s">&quot;header&quot;</span><span class="p">:</span> <span class="s">&quot;This is a header&quot;</span><span class="p">,</span>
          <span class="s">&quot;caption&quot;</span><span class="p">:</span> <span class="s">&quot;This will go in footer&quot;</span><span class="p">,</span>
          <span class="s">&quot;product_list&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">&quot;sections&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                    <span class="s">&quot;title&quot;</span><span class="p">:</span> <span class="s">&quot;Cakes&quot;</span><span class="p">,</span>
                    <span class="s">&quot;product_items&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s">&quot;product_retailer_id&quot;</span><span class="p">:</span> <span class="s">&quot;sbt_in_4_1&quot;</span>
                        <span class="p">},</span>
                        <span class="p">{</span>
                            <span class="s">&quot;product_retailer_id&quot;</span><span class="p">:</span> <span class="s">&quot;sbt_in_4_2&quot;</span>
                        <span class="p">}</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">]</span>
          <span class="p">}</span><br>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n
          &quot;message&quot;:&quot;Hello&quot;,\n
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,\n
          &quot;customer_name&quot;: &quot;John Doe&quot;,\n
          &quot;type&quot;: &quot;product&quot;,\n
          &quot;header&quot;: &quot;This is a header&quot;,\n
          &quot;caption&quot;: &quot;This will go in footer&quot;,\n
          &quot;product_list&quot;: {\n
            &quot;sections&quot;: [\n
            {\n
                    &quot;title&quot;: &quot;Cakes&quot;,\n
                    &quot;product_items&quot;: [\n
                        {\n
                            &quot;product_retailer_id&quot;: &quot;sbt_in_4_1&quot;\n
                        },\n
                        {\n
                            &quot;product_retailer_id&quot;: &quot;sbt_in_4_2&quot;\n
                        }\n
                    ]\n
                }\n
            ]\n
          }\n}&#39;</span>
<span class="p">);</span></p>

<p><span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send Single Product messages to customers using the Sobot platform, enabling seamless communication with your customer.</p></p>

<p>This API needs Meta catalog to be connected to your WhatsApp business account. The catalog id should be updated in Sobot before using this API. This API uses that catalog id as a default for refering all your products with <code>product_retailer_id</code>.</p>

<aside class="warning">
You can only send a text message up until 24 hours after receiving a message from the user. If you have not received a message from the user within this time, you will need to start a new conversation by sending a Template message.
</aside>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST https://api.sobot.in/message/</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Yes</td>
<td>The text of the text message which can contain URLs which begin with http:// or https://(All URLs are set to preview in message by default.) and formatting (See Below for formattting options) .<br/> <br/> Maximum length: 1024 characters</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type of message contents. Set to <code>product</code> in case of Single Product messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
<td>-</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
<td>-</td>
</tr>
<tr>
<td>product_list</td>
<td>Yes</td>
<td>A object which consist of following parameters. <table><thead><tr><td>Parameter</td><td>Required</td><td>Description</td></tr><thead><tr><td>sections</td><td>Yes</td><td>Array of section objects. Minimum of 1, maximum of 30. Each section object has two required parameters as follows: <table><tr><td>title</td><td>Title for section. Acts like a separator in the Product List. Maximum length: 24 characters.</td></tr><tr><td>Product Items</td><td>Array of product objects. There is a minimum of 1 product per section and a maximum of 30 products across all sections. Every object consist of single key <code>product_retailer_id</code>. This is a unique identifier of the product in a catalog. To get this ID go to <a href="https://business.facebook.com/commerce/">Meta Commerce Manager</a> and select your Meta Business account.</td></tr></table></td></tr></table></td>
<td>-</td>
</tr>
<tr>
<td>header</td>
<td>No</td>
<td>Header content displayed on top of a message. No Emojis. markdown and Links are supported Maximum length: 60 characters.</td>
<td>-</td>
</tr>
<tr>
<td>caption</td>
<td>No</td>
<td>The footer content. Emojis, markdown, and links are supported. Maximum length: 60 characters.</td>
<td>-</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p>
<h1 id='templates'>Templates</h1>
<p>WhatsApp message templates are specific message formats that businesses use to send out notifications or customer care messages to people that have opted in to notifications. Messages can include appointment reminders, shipping information, issue resolution or payment updates.</p>

<p>Templates must be approved before they can be sent in template messages. In addition, templates may be disabled automatically based on customer feedback. Once disabled, a template cannot be sent in a template message until its quality rating has improved or it no longer violates our business or commerce policies.</p>

<p><h2 id='add-text-template'>Add Text Template</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;category&quot;: &quot;UTILITY&quot;,
    &quot;entity_name&quot;: &quot;hello_world&quot;,
    &quot;body&quot;: &quot;Welcome and congratulations!! This message demonstrates 
    your ability to send a WhatsApp message notification from the Cloud API, 
    hosted by Meta. Thank you for taking the time to test with us.&quot;,
    &quot;template_type&quot;: &quot;TEXT&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/api/template/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;category&quot;</span><span class="p">:</span> <span class="s">&quot;UTILITY&quot;</span><span class="p">,</span>
    <span class="s">&quot;entity_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;body&quot;</span><span class="p">:</span> <span class="s">&quot;Welcome and congratulations!! This message demonstrates </span><span class="se">\
</span><span class="s">    your ability to send a WhatsApp message notification from the Cloud API, </span><span class="se">\
</span><span class="s">    hosted by Meta. Thank you for taking the time to test with us.&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_type&quot;</span><span class="p">:</span> <span class="s">&quot;TEXT&quot;</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n
    &quot;category&quot;: &quot;UTILITY&quot;,\n
    &quot;entity_name&quot;: &quot;hello_world&quot;,\n
    &quot;body&quot;: &quot;Welcome and congratulations!! This message demonstrates 
    your ability to send a WhatsApp message notification from the Cloud API, 
    hosted by Meta. Thank you for taking the time to test with us.&quot;,\n
    &quot;template_type&quot;: &quot;TEXT&quot;\n}&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Template created successfully&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to Add Text Template to your WABA account using Sobot platform. Once it is added, it will go through approval process from Meta.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/api/template/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>category</td>
<td>Yes</td>
<td>Defines the type of template. Possible values are <ul><li> MARKETING </li><li>UTILITY</li><li>AUTHENTICATION</li></ul></td>
</tr>
<tr>
<td>entity_name</td>
<td>Yes</td>
<td>This is to refer template in future use. Duplicate <code>entity_name</code> is not allowed. No spaces allowed in <code>entity_name</code>. (if space is added, it will be replaced with _.) <br/> <br/> Maximum Length: 128 Characters.</td>
</tr>
<tr>
<td>template_type</td>
<td>Yes</td>
<td>Type of template contents. Set to <code>TEXT</code> in case of Text templates.</td>
</tr>
<tr>
<td>body</td>
<td>Yes</td>
<td>Main body of Template. You should have text in same language as mentioned in <code>lang_code</code> parameter. Emojis, markdown, and links are supported. <br/> <br/> Maximum length: 1024 Characters.</td>
</tr>
<tr>
<td>lang_code</td>
<td>Yes</td>
<td>Specify the language code for body content. (Incorrect language specification may result in temlplate rejection.) For supported languages, check table below. Default is <code>en_US</code></td>
</tr>
<tr>
<td>header_type</td>
<td>No</td>
<td>Required if want add header. Type of header for template. Set to <code>TEXT</code> in case of Text header.</td>
</tr>
<tr>
<td>header</td>
<td>No</td>
<td>This is text for header, cannot contain Emojis, markdown. Header is required if header_type is <code>TEXT</code>. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
<tr>
<td>footer</td>
<td>No</td>
<td>This is text for footer, can contain Emojis but not markdown. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
</tbody></table>
<h3 id='supported-languages'>Supported Languages</h3>
<table><thead>
<tr>
<th>Lang code</th>
<th>Language</th>
</tr>
</thead><tbody>
<tr>
<td>en</td>
<td>English</td>
</tr>
<tr>
<td>en_US</td>
<td>English (US)</td>
</tr>
<tr>
<td>en_GB</td>
<td>English (UK)</td>
</tr>
<tr>
<td>hi</td>
<td>Hindi</td>
</tr>
<tr>
<td>mr</td>
<td>Marathi</td>
</tr>
</tbody></table></p>

<p><h2 id='add-text-template-with-variables'>Add Text Template with Variables</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;category&quot;: &quot;UTILITY&quot;,
    &quot;entity_name&quot;: &quot;hello_world&quot;,
    &quot;body&quot;: &quot;Welcome and congratulations!! This message demonstrates 
    your ability to send a {{1}} message notification from the {{2}}, 
    hosted by Meta. Thank you for taking the time to test with us.&quot;,
    &quot;template_type&quot;: &quot;TEXT&quot;,
    &quot;example_body_param&quot;: {
        &quot;body_text&quot;:
        [
            [&quot;WhatsApp&quot;,&quot;Cloud API&quot;]
        ]
        }
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/api/template/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;category&quot;</span><span class="p">:</span> <span class="s">&quot;UTILITY&quot;</span><span class="p">,</span>
    <span class="s">&quot;entity_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;body&quot;</span><span class="p">:</span> <span class="s">&quot;Welcome and congratulations!! This message demonstrates </span><span class="se">\
</span><span class="s">    your ability to send a {{1}} message notification from the {{2}}, </span><span class="se">\
</span><span class="s">    hosted by Meta. Thank you for taking the time to test with us.&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_type&quot;</span><span class="p">:</span> <span class="s">&quot;TEXT&quot;</span><span class="p">,</span>
    <span class="s">&quot;example_body_param&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;body_text&quot;</span><span class="p">:</span>
        <span class="p">[</span>
            <span class="p">[</span><span class="s">&quot;WhatsApp&quot;</span><span class="p">,</span><span class="s">&quot;Cloud API&quot;</span><span class="p">]</span>
        <span class="p">]</span>
        <span class="p">}</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n
    &quot;category&quot;: &quot;UTILITY&quot;,\n
    &quot;entity_name&quot;: &quot;hello_world&quot;,\n
    &quot;body&quot;: &quot;Welcome and congratulations!! This message demonstrates 
    your ability to send a {{1}} message notification from the {{2}}, 
    hosted by Meta. Thank you for taking the time to test with us.&quot;,\n
    &quot;template_type&quot;: &quot;TEXT&quot;,\n
    &quot;example_body_param&quot;: {\n
        &quot;body_text&quot;:\n
        [\n
            [&quot;WhatsApp&quot;,&quot;Cloud API&quot;]\n
        ]\n
        }
    }\n&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Template created successfully&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to Add Text Template to your WABA account using Sobot platform. Once it is added, it will go through approval process from Meta.</p>
<h3 id='template-variables'>Template Variables</h3>
<p>Template variables help you add template with placeholders whose value can be set at the time of sending this template as a message.  Any template that has one or more variables requires a sample in order to be submitted for review. You can add samples by including the example property in API request.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/api/template/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>category</td>
<td>Yes</td>
<td>Defines the type of template. Possible values are <ul><li> MARKETING </li><li>UTILITY</li><li>AUTHENTICATION</li></ul></td>
</tr>
<tr>
<td>entity_name</td>
<td>Yes</td>
<td>This is to refer template in future use. Duplicate <code>entity_name</code> is not allowed. No spaces allowed in <code>entity_name</code>. (if space is added, it will be replaced with _.) <br/> <br/> Maximum Length: 128 Characters.</td>
</tr>
<tr>
<td>template_type</td>
<td>Yes</td>
<td>Type of template contents. Set to <code>TEXT</code> in case of Text templates.</td>
</tr>
<tr>
<td>body</td>
<td>Yes</td>
<td>Main body of Template. You should have text in same language as mentioned in <code>lang_code</code> parameter. Emojis, markdown, and links are supported. <br/> <br/> Maximum length: 1024 Characters.</td>
</tr>
<tr>
<td>lang_code</td>
<td>Yes</td>
<td>Specify the language code for body content. (Incorrect language specification may result in temlplate rejection.) For supported languages, check table below. Default is <code>en_US</code></td>
</tr>
<tr>
<td>header_type</td>
<td>No</td>
<td>Required if want add header. Type of header for template. Set to <code>TEXT</code> in case of Text header.</td>
</tr>
<tr>
<td>header</td>
<td>No</td>
<td>This is text for header, cannot contain Emojis, markdown. One variable parameter is allowed. Header is required if header_type is <code>TEXT</code>. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
<tr>
<td>footer</td>
<td>No</td>
<td>This is text for footer, can contain Emojis but not markdown. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
<tr>
<td>example_body_param</td>
<td>No</td>
<td>If template <code>body</code> has variables then this parameter is required. This parameter holds json object of array of strings as example values. (Check format in code example)</td>
</tr>
<tr>
<td>example_header_param</td>
<td>No</td>
<td>If template <code>header</code> has variable then this parameter is required. This parameter holds json object of array of a single string as example value. (Check format in code example)</td>
</tr>
</tbody></table>
<h3 id='supported-languages'>Supported Languages</h3>
<table><thead>
<tr>
<th>Lang code</th>
<th>Language</th>
</tr>
</thead><tbody>
<tr>
<td>en</td>
<td>English</td>
</tr>
<tr>
<td>en_US</td>
<td>English (US)</td>
</tr>
<tr>
<td>en_GB</td>
<td>English (UK)</td>
</tr>
<tr>
<td>hi</td>
<td>Hindi</td>
</tr>
<tr>
<td>mr</td>
<td>Marathi</td>
</tr>
</tbody></table></p>

<p><h2 id='add-button-template'>Add Button Template</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;category&quot;: &quot;UTILITY&quot;,
    &quot;entity_name&quot;: &quot;hello_world&quot;,
    &quot;body&quot;: &quot;Welcome and congratulations!! This message demonstrates 
    your ability to send a WhatsApp message notification from the Cloud API, 
    hosted by Meta. Thank you for taking the time to test with us.&quot;,
    &quot;template_type&quot;: &quot;TEXT&quot;,
    &quot;buttons&quot;: [&quot;Yes&quot;, &quot;No&quot;, &quot;May be&quot;]
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/api/template/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;category&quot;</span><span class="p">:</span> <span class="s">&quot;UTILITY&quot;</span><span class="p">,</span>
    <span class="s">&quot;entity_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;body&quot;</span><span class="p">:</span> <span class="s">&quot;Welcome and congratulations!! This message demonstrates </span><span class="se">\
</span><span class="s">    your ability to send a WhatsApp message notification from the Cloud API, </span><span class="se">\
</span><span class="s">    hosted by Meta. Thank you for taking the time to test with us.&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_type&quot;</span><span class="p">:</span> <span class="s">&quot;TEXT&quot;</span><span class="p">,</span>
    <span class="s">&quot;buttons&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;Yes&quot;</span><span class="p">,</span> <span class="s">&quot;No&quot;</span><span class="p">,</span> <span class="s">&quot;May be&quot;</span><span class="p">]</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n
    &quot;category&quot;: &quot;UTILITY&quot;,\n
    &quot;entity_name&quot;: &quot;hello_world&quot;,\n
    &quot;body&quot;: &quot;Welcome and congratulations!! This message demonstrates 
    your ability to send a WhatsApp message notification from the Cloud API, 
    hosted by Meta. Thank you for taking the time to test with us.&quot;,\n
    &quot;template_type&quot;: &quot;TEXT&quot;\n
    &quot;buttons: [&quot;Yes&quot;, &quot;No&quot;, &quot;May be&quot;]\n
    \n}&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Template created successfully&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to Add Text Template with Buttons(Quick replies) to your WABA account using Sobot platform. Once it is added, it will go through approval process from Meta.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/api/template/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>category</td>
<td>Yes</td>
<td>Defines the type of template. Possible values are <ul><li> MARKETING </li><li>UTILITY</li><li>AUTHENTICATION</li></ul></td>
</tr>
<tr>
<td>entity_name</td>
<td>Yes</td>
<td>This is to refer template in future use. Duplicate <code>entity_name</code> is not allowed. No spaces allowed in <code>entity_name</code>. (if space is added, it will be replaced with _.) <br/> <br/> Maximum Length: 128 Characters.</td>
</tr>
<tr>
<td>template_type</td>
<td>Yes</td>
<td>Type of template contents. Set to <code>TEXT</code> in case of Text templates.</td>
</tr>
<tr>
<td>body</td>
<td>Yes</td>
<td>Main body of Template. You should have text in same language as mentioned in <code>lang_code</code> parameter. Emojis, markdown, and links are supported. <br/> <br/> Maximum length: 1024 Characters.</td>
</tr>
<tr>
<td>lang_code</td>
<td>Yes</td>
<td>Specify the language code for body content. (Incorrect language specification may result in temlplate rejection.) For supported languages, check table below. Default is <code>en_US</code></td>
</tr>
<tr>
<td>buttons</td>
<td>Yes</td>
<td>Array of strings consist of Title of buttons. You can have up to 3 buttons. It cannot be an empty string and must be unique within the message. Emojis are supported, markdown is not. <br/> <br/>Maximum length: 20 characters for each botton title.</td>
</tr>
<tr>
<td>header_type</td>
<td>No</td>
<td>Required if want add header. Type of header for template. Set to <code>TEXT</code> in case of Text header.</td>
</tr>
<tr>
<td>header</td>
<td>No</td>
<td>This is text for header, cannot contain Emojis, markdown. Header is required if header_type is <code>TEXT</code>. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
<tr>
<td>footer</td>
<td>No</td>
<td>This is text for footer, can contain Emojis but not markdown. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
</tbody></table>
<h3 id='supported-languages'>Supported Languages</h3>
<table><thead>
<tr>
<th>Lang code</th>
<th>Language</th>
</tr>
</thead><tbody>
<tr>
<td>en</td>
<td>English</td>
</tr>
<tr>
<td>en_US</td>
<td>English (US)</td>
</tr>
<tr>
<td>en_GB</td>
<td>English (UK)</td>
</tr>
<tr>
<td>hi</td>
<td>Hindi</td>
</tr>
<tr>
<td>mr</td>
<td>Marathi</td>
</tr>
</tbody></table></p>

<p><h2 id='add-template-with-cta'>Add Template with CTA</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;category&quot;: &quot;UTILITY&quot;,
    &quot;entity_name&quot;: &quot;hello_world&quot;,
    &quot;body&quot;: &quot;Welcome and congratulations!! This message demonstrates 
    your ability to send a WhatsApp message notification from the Cloud API, 
    hosted by Meta. Thank you for taking the time to test with us.&quot;,
    &quot;template_type&quot;: &quot;TEXT&quot;,
    &quot;sub_type&quot;: &quot;CTA&quot;,
    &quot;phone_numbers&quot;: [{&quot;phone_number&quot;: &quot;919561XXXXXX&quot;, &quot;text&quot;: &quot;Call Now&quot;}],
    &quot;url&quot; : &quot;https://example.com/register/customer/{{1}}&quot;,
    &quot;example_webiste&quot;: &quot;https://example.com/register/customer/delhi&quot;,
    &quot;url_name&quot;: &quot;Register Now&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/api/template/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;category&quot;</span><span class="p">:</span> <span class="s">&quot;UTILITY&quot;</span><span class="p">,</span>
    <span class="s">&quot;entity_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;body&quot;</span><span class="p">:</span> <span class="s">&quot;Welcome and congratulations!! This message demonstrates </span><span class="se">\
</span><span class="s">    your ability to send a WhatsApp message notification from the Cloud API, </span><span class="se">\
</span><span class="s">    hosted by Meta. Thank you for taking the time to test with us.&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_type&quot;</span><span class="p">:</span> <span class="s">&quot;TEXT&quot;</span>
    <span class="s">&quot;sub_type&quot;</span><span class="p">:</span> <span class="s">&quot;CTA&quot;</span><span class="p">,</span>
    <span class="s">&quot;phone_numbers&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s">&quot;phone_number&quot;</span><span class="p">:</span> <span class="s">&quot;919561XXXXXX&quot;</span><span class="p">,</span> <span class="s">&quot;text&quot;</span><span class="p">:</span> <span class="s">&quot;Call Now&quot;</span><span class="p">}],</span>
    <span class="s">&quot;url&quot;</span> <span class="p">:</span> <span class="s">&quot;https://example.com/register/customer/{{1}}&quot;</span><span class="p">,</span>
    <span class="s">&quot;example_webiste&quot;</span><span class="p">:</span> <span class="s">&quot;https://example.com/register/customer/delhi&quot;</span><span class="p">,</span>
    <span class="s">&quot;url_name&quot;</span><span class="p">:</span> <span class="s">&quot;Register Now&quot;</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{\n
    &quot;category&quot;: &quot;UTILITY&quot;,\n
    &quot;entity_name&quot;: &quot;hello_world&quot;,\n
    &quot;body&quot;: &quot;Welcome and congratulations!! This message demonstrates 
    your ability to send a WhatsApp message notification from the Cloud API, 
    hosted by Meta. Thank you for taking the time to test with us.&quot;,\n
    &quot;template_type&quot;: &quot;TEXT&quot;,\n
    &quot;sub_type&quot;: &quot;CTA&quot;,\n
    &quot;phone_numbers&quot;: [{&quot;phone_number&quot;: &quot;919561XXXXXX&quot;, &quot;text&quot;: &quot;Call Now&quot;}],\n
    &quot;url&quot; : &quot;https://example.com/register/customer/{{1}}&quot;,\n
    &quot;example_webiste&quot;: &quot;https://example.com/register/customer/delhi&quot;,\n
    &quot;url_name&quot;: &quot;Register Now&quot;\n}&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Template created successfully&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to Add Text Template with Call-to-Action buttons to your WABA account using Sobot platform. Once it is added, it will go through approval process from Meta.</p></p>

<p><strong>Call-to-Action</strong> buttons can be of two types:
<ol><li>Website link</li><li>Phone number</li></ol></p>

<p>You can have maximum two CTA buttons as per following combinations:
<ul><li>Single button with website link </li>
<li> Single button with Phone number </li>
<li> Two buttons, one for website link &amp; another for phone number </li> </ul></p>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST https://api.sobot.in/api/template/</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>category</td>
<td>Yes</td>
<td>Defines the type of template. Possible values are <ul><li> MARKETING </li><li>UTILITY</li><li>AUTHENTICATION</li></ul></td>
</tr>
<tr>
<td>entity_name</td>
<td>Yes</td>
<td>This is to refer template in future use. Duplicate <code>entity_name</code> is not allowed. No spaces allowed in <code>entity_name</code>. (if space is added, it will be replaced with _.) <br/> <br/> Maximum Length: 128 Characters.</td>
</tr>
<tr>
<td>template_type</td>
<td>Yes</td>
<td>Type of template contents. Set to <code>TEXT</code> in case of Text templates.</td>
</tr>
<tr>
<td>body</td>
<td>Yes</td>
<td>Main body of Template. You should have text in same language as mentioned in <code>lang_code</code> parameter. Emojis, markdown, and links are supported. <br/> <br/> Maximum length: 1024 Characters.</td>
</tr>
<tr>
<td>lang_code</td>
<td>Yes</td>
<td>Specify the language code for body content. (Incorrect language specification may result in temlplate rejection.) For supported languages, check table below. Default is <code>en_US</code></td>
</tr>
<tr>
<td>sub_type</td>
<td>Yes</td>
<td>Set its value to <code>CTA</code> if you want to add Call-to-Action buttons in your template.</td>
</tr>
<tr>
<td>phone_numbers</td>
<td>Yes</td>
<td>Required if you want to add Phone number as on of the Call-to-Action. It accepts JSON Array of single json object which has two keys as follows. <ul><li>phone_number: A phone number with country-code e.g. 919970XXXXXX</li><li>text: Name of CTA button <br/> <br/> Maximum Length : 20 characters</li></ul></td>
</tr>
<tr>
<td>url</td>
<td>Yes</td>
<td>If  <code>sub_type</code> is set to CTA and you want to add Call-to-Action as a website, you will specify website URL here. A website URL can be of of two types: <ol><li>Static : In this case you will specify entire URL in this parameter. No <code>example_website</code> parameter needed.</li> <li>Dyanmic: In this case you can specify some part of website URL as a variable part. Variable part is always at the end of URL &amp; supports single variable only. If your url is of this type, you will specifiy complete URL as a example URL in <code>example_website</code> parameter. <br/> Example of Dynamic URL: https://example.com/register/customer/{{1}} </li></ol></td>
</tr>
<tr>
<td>example_website</td>
<td>Yes</td>
<td>If  <code>sub_type</code> is set to CTA and you want to add Call-to-Action as a website, with this parameter you will specify example value for a dynamic URL that was added in <code>url</code>. parameter. <br> e.g. https://example.com/register/customer/delhi</td>
</tr>
<tr>
<td>url_name</td>
<td>Yes</td>
<td>If  <code>sub_type</code> is set to CTA and you want to add Call-to-Action as a website, with this parameter you will specify name to show for CTA button. <br/> <br/> Maximum Length : 20 characters</td>
</tr>
<tr>
<td>header_type</td>
<td>No</td>
<td>Required if want add header. Type of header for template. Set to <code>TEXT</code> in case of Text header.</td>
</tr>
<tr>
<td>header</td>
<td>No</td>
<td>This is text for header, cannot contain Emojis, markdown. Header is required if header_type is <code>TEXT</code>. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
<tr>
<td>footer</td>
<td>No</td>
<td>This is text for footer, can contain Emojis but not markdown. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
</tbody></table>

<h3 id='supported-languages'>Supported Languages</h3>

<table><thead>
<tr>
<th>Lang code</th>
<th>Language</th>
</tr>
</thead><tbody>
<tr>
<td>en</td>
<td>English</td>
</tr>
<tr>
<td>en_US</td>
<td>English (US)</td>
</tr>
<tr>
<td>en_GB</td>
<td>English (UK)</td>
</tr>
<tr>
<td>hi</td>
<td>Hindi</td>
</tr>
<tr>
<td>mr</td>
<td>Marathi</td>
</tr>
</tbody></table>

<p><h2 id='add-image-template'>Add Image Template</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;category&quot;: &quot;MARKETING&quot;,
    &quot;entity_name&quot;: &quot;hello_world&quot;,
    &quot;body&quot;: &quot;Welcome and congratulations!! This message demonstrates 
    your ability to send a WhatsApp message notification from the Cloud API, 
    hosted by Meta. Thank you for taking the time to test with us.&quot;,
    &quot;template_type&quot;: &quot;MEDIA&quot;
    &quot;header_type&quot;:&quot;IMAGE&quot;,
    &quot;example&quot;:&quot;https://example.com/images/20230625_003239.jpg&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/api/template/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;category&quot;</span><span class="p">:</span> <span class="s">&quot;MARKETING&quot;</span><span class="p">,</span>
    <span class="s">&quot;entity_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;body&quot;</span><span class="p">:</span> <span class="s">&quot;Welcome and congratulations!! This message demonstrates </span><span class="se">\
</span><span class="s">    your ability to send a WhatsApp message notification from the Cloud API, </span><span class="se">\
</span><span class="s">    hosted by Meta. Thank you for taking the time to test with us.&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_type&quot;</span><span class="p">:</span> <span class="s">&quot;MEDIA&quot;</span>
    <span class="s">&quot;header_type&quot;</span><span class="p">:</span><span class="s">&quot;IMAGE&quot;</span><span class="p">,</span>
    <span class="s">&quot;example&quot;</span><span class="p">:</span><span class="s">&quot;https://example.com/images/20230625_003239.jpg&quot;</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="err">&#39;</span><span class="p">{</span><span class="err">&lt;/span&gt;<span class="n">n</span>
     <span class="s2">&quot;category&quot;</span><span class="o">:</span> <span class="s2">&quot;MARKETING&quot;</span><span class="p">,</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;entity_name&quot;</span><span class="o">:</span> <span class="s2">&quot;hello_world&quot;</span><span class="p">,</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;body&quot;</span><span class="o">:</span> <span class="s2">&quot;Welcome and congratulations!! This message demonstrates \
    your ability to send a WhatsApp message notification from the Cloud API, \
    hosted by Meta. Thank you for taking the time to test with us.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;template_type&quot;</span><span class="o">:</span> <span class="s2">&quot;MEDIA&quot;</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;header_type&quot;</span><span class="o">:</span><span class="s2">&quot;IMAGE&quot;</span><span class="p">,</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;example&quot;</span><span class="o">:</span><span class="s2">&quot;https://example.com/images/20230625_003239.jpg&quot;</span><span class="err">&lt;/span&gt;<span class="n">n</span><span class="p">}</span><span class="s1">&#39;
);
try {
  $response = $request-&gt;send();
  if ($response-&gt;getStatus() == 200) {
    echo $response-&gt;getBody();
  }
  else {
    echo &#39;</span><span class="nc">Unexpected</span> <span class="no">HTTP</span> <span class="n">status</span><span class="o">:</span> <span class="s1">&#39; . $response-&gt;getStatus() . &#39;</span> <span class="s1">&#39; .
    $response-&gt;getReasonPhrase();
  }
}
catch(HTTP_Request2_Exception $e) {
  echo &#39;</span><span class="nc">Error</span><span class="o">:</span> <span class="err">&#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Template created successfully&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to Add Image Template to your WABA account using Sobot platform. Once it is added, it will go through approval process from Meta.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/api/template/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>category</td>
<td>Yes</td>
<td>Defines the type of template. Possible values are <ul><li> MARKETING </li><li>UTILITY</li><li>AUTHENTICATION</li></ul></td>
</tr>
<tr>
<td>entity_name</td>
<td>Yes</td>
<td>This is to refer template in future use. Duplicate <code>entity_name</code> is not allowed. No spaces allowed in <code>entity_name</code>. (if space is added, it will be replaced with _.) <br/> <br/> Maximum Length: 128 Characters.</td>
</tr>
<tr>
<td>template_type</td>
<td>Yes</td>
<td>Type of template contents. Set to <code>MEDIA</code> in case of Image templates.</td>
</tr>
<tr>
<td>body</td>
<td>Yes</td>
<td>Main body of Template. You should have text in same language as mentioned in <code>lang_code</code> parameter. Emojis, markdown, and links are supported. <br/> <br/> Maximum length: 1024 Characters.</td>
</tr>
<tr>
<td>lang_code</td>
<td>Yes</td>
<td>Specify the language code for body content. (Incorrect language specification may result in temlplate rejection.) For supported languages, check table below. Default is <code>en_US</code></td>
</tr>
<tr>
<td>header_type</td>
<td>Yes</td>
<td>Required if want add header. Type of header for template. Set to <code>IMAGE</code> in case of Image header.</td>
</tr>
<tr>
<td>example</td>
<td>Yes</td>
<td>Public URL of a header image. This image acts like example for the header, Meta use this as an example image in approval process. You can change this image while you use this template to send the message. example is required if header_type is <code>IMAGE</code>. <br/>Please check supported Media Types below. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
<tr>
<td>footer</td>
<td>No</td>
<td>This is text for footer, can contain Emojis but not markdown. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
</tbody></table>
<h3 id='supported-languages'>Supported Languages</h3>
<table><thead>
<tr>
<th>Lang code</th>
<th>Language</th>
</tr>
</thead><tbody>
<tr>
<td>en</td>
<td>English</td>
</tr>
<tr>
<td>en_US</td>
<td>English (US)</td>
</tr>
<tr>
<td>en_GB</td>
<td>English (UK)</td>
</tr>
<tr>
<td>hi</td>
<td>Hindi</td>
</tr>
<tr>
<td>mr</td>
<td>Marathi</td>
</tr>
</tbody></table>
<h3 id='supported-media-types'>Supported Media Types</h3>
<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>image</td>
<td>image/jpeg, image/png Images must be 8-bit, RGB or RGBA</td>
<td>5MB</td>
</tr>
</tbody></table></p>

<p><h2 id='add-video-template'>Add Video Template</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;category&quot;: &quot;MARKETING&quot;,
    &quot;entity_name&quot;: &quot;hello_world&quot;,
    &quot;body&quot;: &quot;Welcome and congratulations!! This message demonstrates 
    your ability to send a WhatsApp message notification from the Cloud API, 
    hosted by Meta. Thank you for taking the time to test with us.&quot;,
    &quot;template_type&quot;: &quot;MEDIA&quot;
    &quot;header_type&quot;:&quot;VIDEO&quot;,
    &quot;example&quot;:&quot;https://example.com/images/20230625_003239.mp4&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/api/template/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;category&quot;</span><span class="p">:</span> <span class="s">&quot;MARKETING&quot;</span><span class="p">,</span>
    <span class="s">&quot;entity_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;body&quot;</span><span class="p">:</span> <span class="s">&quot;Welcome and congratulations!! This message demonstrates </span><span class="se">\
</span><span class="s">    your ability to send a WhatsApp message notification from the Cloud API, </span><span class="se">\
</span><span class="s">    hosted by Meta. Thank you for taking the time to test with us.&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_type&quot;</span><span class="p">:</span> <span class="s">&quot;MEDIA&quot;</span>
    <span class="s">&quot;header_type&quot;</span><span class="p">:</span><span class="s">&quot;VIDEO&quot;</span><span class="p">,</span>
    <span class="s">&quot;example&quot;</span><span class="p">:</span><span class="s">&quot;https://example.com/images/20230625_003239.mp4&quot;</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="err">&#39;</span><span class="p">{</span><span class="err">&lt;/span&gt;<span class="n">n</span>
     <span class="s2">&quot;category&quot;</span><span class="o">:</span> <span class="s2">&quot;MARKETING&quot;</span><span class="p">,</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;entity_name&quot;</span><span class="o">:</span> <span class="s2">&quot;hello_world&quot;</span><span class="p">,</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;body&quot;</span><span class="o">:</span> <span class="s2">&quot;Welcome and congratulations!! This message demonstrates \
    your ability to send a WhatsApp message notification from the Cloud API, \
    hosted by Meta. Thank you for taking the time to test with us.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;template_type&quot;</span><span class="o">:</span> <span class="s2">&quot;MEDIA&quot;</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;header_type&quot;</span><span class="o">:</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;example&quot;</span><span class="o">:</span><span class="s2">&quot;https://example.com/images/20230625_003239.mp4&quot;</span><span class="err">&lt;/span&gt;<span class="n">n</span><span class="p">}</span><span class="s1">&#39;
);
try {
  $response = $request-&gt;send();
  if ($response-&gt;getStatus() == 200) {
    echo $response-&gt;getBody();
  }
  else {
    echo &#39;</span><span class="nc">Unexpected</span> <span class="no">HTTP</span> <span class="n">status</span><span class="o">:</span> <span class="s1">&#39; . $response-&gt;getStatus() . &#39;</span> <span class="s1">&#39; .
    $response-&gt;getReasonPhrase();
  }
}
catch(HTTP_Request2_Exception $e) {
  echo &#39;</span><span class="nc">Error</span><span class="o">:</span> <span class="err">&#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Template created successfully&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to Add Video Template to your WABA account using Sobot platform. Once it is added, it will go through approval process from Meta.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/api/template/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>category</td>
<td>Yes</td>
<td>Defines the type of template. Possible values are <ul><li> MARKETING </li><li>UTILITY</li><li>AUTHENTICATION</li></ul></td>
</tr>
<tr>
<td>entity_name</td>
<td>Yes</td>
<td>This is to refer template in future use. Duplicate <code>entity_name</code> is not allowed. No spaces allowed in <code>entity_name</code>. (if space is added, it will be replaced with _.) <br/> <br/> Maximum Length: 128 Characters.</td>
</tr>
<tr>
<td>template_type</td>
<td>Yes</td>
<td>Type of template contents. Set to <code>MEDIA</code> in case of Image templates.</td>
</tr>
<tr>
<td>body</td>
<td>Yes</td>
<td>Main body of Template. You should have text in same language as mentioned in <code>lang_code</code> parameter. Emojis, markdown, and links are supported. <br/> <br/> Maximum length: 1024 Characters.</td>
</tr>
<tr>
<td>lang_code</td>
<td>Yes</td>
<td>Specify the language code for body content. (Incorrect language specification may result in temlplate rejection.) For supported languages, check table below. Default is <code>en_US</code></td>
</tr>
<tr>
<td>header_type</td>
<td>Yes</td>
<td>Required if want add header. Type of header for template. Set to <code>VIDEO</code> in case of Video header.</td>
</tr>
<tr>
<td>example</td>
<td>Yes</td>
<td>Public URL of a header video. This video acts like example for the header, Meta use this as an example video in approval process. You can change this video while you use this template to send the message. example is required if header_type is <code>VIDEO</code>. <br/>Please check supported Media Types below. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
<tr>
<td>footer</td>
<td>No</td>
<td>This is text for footer, can contain Emojis but not markdown. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
</tbody></table>
<h3 id='supported-languages'>Supported Languages</h3>
<table><thead>
<tr>
<th>Lang code</th>
<th>Language</th>
</tr>
</thead><tbody>
<tr>
<td>en</td>
<td>English</td>
</tr>
<tr>
<td>en_US</td>
<td>English (US)</td>
</tr>
<tr>
<td>en_GB</td>
<td>English (UK)</td>
</tr>
<tr>
<td>hi</td>
<td>Hindi</td>
</tr>
<tr>
<td>mr</td>
<td>Marathi</td>
</tr>
</tbody></table>
<h3 id='supported-media-types'>Supported Media Types</h3>
<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>video</td>
<td>video/mp4, video/3gp<br/><br/> Notes: <br/>Only H.264 video codec and AAC audio codec is supported. <br/>We support videos with a single audio stream or no audio stream.</td>
<td>16MB</td>
</tr>
</tbody></table></p>

<p><h2 id='add-document-template'>Add document Template</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
    &quot;category&quot;: &quot;MARKETING&quot;,
    &quot;entity_name&quot;: &quot;hello_world&quot;,
    &quot;body&quot;: &quot;Welcome and congratulations!! This message demonstrates 
    your ability to send a WhatsApp message notification from the Cloud API, 
    hosted by Meta. Thank you for taking the time to test with us.&quot;,
    &quot;template_type&quot;: &quot;MEDIA&quot;
    &quot;header_type&quot;:&quot;DOCUMENT&quot;,
    &quot;example&quot;:&quot;https://example.com/images/20230625_003239.pdf&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/api/template/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;category&quot;</span><span class="p">:</span> <span class="s">&quot;MARKETING&quot;</span><span class="p">,</span>
    <span class="s">&quot;entity_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;body&quot;</span><span class="p">:</span> <span class="s">&quot;Welcome and congratulations!! This message demonstrates </span><span class="se">\
</span><span class="s">    your ability to send a WhatsApp message notification from the Cloud API, </span><span class="se">\
</span><span class="s">    hosted by Meta. Thank you for taking the time to test with us.&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_type&quot;</span><span class="p">:</span> <span class="s">&quot;MEDIA&quot;</span>
    <span class="s">&quot;header_type&quot;</span><span class="p">:</span><span class="s">&quot;DOCUMENT&quot;</span><span class="p">,</span>
    <span class="s">&quot;example&quot;</span><span class="p">:</span><span class="s">&quot;https://example.com/images/20230625_003239.pdf&quot;</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="err">&#39;</span><span class="p">{</span><span class="err">&lt;/span&gt;<span class="n">n</span>
     <span class="s2">&quot;category&quot;</span><span class="o">:</span> <span class="s2">&quot;MARKETING&quot;</span><span class="p">,</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;entity_name&quot;</span><span class="o">:</span> <span class="s2">&quot;hello_world&quot;</span><span class="p">,</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;body&quot;</span><span class="o">:</span> <span class="s2">&quot;Welcome and congratulations!! This message demonstrates \
    your ability to send a WhatsApp message notification from the Cloud API, \
    hosted by Meta. Thank you for taking the time to test with us.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;template_type&quot;</span><span class="o">:</span> <span class="s2">&quot;MEDIA&quot;</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;header_type&quot;</span><span class="o">:</span><span class="s2">&quot;DOCUMENT&quot;</span><span class="p">,</span><span class="err">&lt;/span&gt;<span class="n">n</span>
    <span class="s2">&quot;example&quot;</span><span class="o">:</span><span class="s2">&quot;https://example.com/images/20230625_003239.pdf&quot;</span><span class="err">&lt;/span&gt;<span class="n">n</span><span class="p">}</span><span class="s1">&#39;
);
try {
  $response = $request-&gt;send();
  if ($response-&gt;getStatus() == 200) {
    echo $response-&gt;getBody();
  }
  else {
    echo &#39;</span><span class="nc">Unexpected</span> <span class="no">HTTP</span> <span class="n">status</span><span class="o">:</span> <span class="s1">&#39; . $response-&gt;getStatus() . &#39;</span> <span class="s1">&#39; .
    $response-&gt;getReasonPhrase();
  }
}
catch(HTTP_Request2_Exception $e) {
  echo &#39;</span><span class="nc">Error</span><span class="o">:</span> <span class="err">&#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Template created successfully&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to Add Document Template to your WABA account using Sobot platform. Once it is added, it will go through approval process from Meta.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/api/template/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>category</td>
<td>Yes</td>
<td>Defines the type of template. Possible values are <ul><li> MARKETING </li><li>UTILITY</li><li>AUTHENTICATION</li></ul></td>
</tr>
<tr>
<td>entity_name</td>
<td>Yes</td>
<td>This is to refer template in future use. Duplicate <code>entity_name</code> is not allowed. No spaces allowed in <code>entity_name</code>. (if space is added, it will be replaced with _.) <br/> <br/> Maximum Length: 128 Characters.</td>
</tr>
<tr>
<td>template_type</td>
<td>Yes</td>
<td>Type of template contents. Set to <code>MEDIA</code> in case of Image templates.</td>
</tr>
<tr>
<td>body</td>
<td>Yes</td>
<td>Main body of Template. You should have text in same language as mentioned in <code>lang_code</code> parameter. Emojis, markdown, and links are supported. <br/> <br/> Maximum length: 1024 Characters.</td>
</tr>
<tr>
<td>lang_code</td>
<td>Yes</td>
<td>Specify the language code for body content. (Incorrect language specification may result in temlplate rejection.) For supported languages, check table below. Default is <code>en_US</code></td>
</tr>
<tr>
<td>header_type</td>
<td>Yes</td>
<td>Required if want add header. Type of header for template. Set to <code>DOCUMENT</code> in case of Document header.</td>
</tr>
<tr>
<td>example</td>
<td>Yes</td>
<td>Public URL of a header document. This document acts like example for the header, Meta use this as an example video in approval process. You can change this document while you use this template to send the message. example is required if header_type is <code>DOCUMENT</code>. <br/>Please check supported Media Types below. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
<tr>
<td>footer</td>
<td>No</td>
<td>This is text for footer, can contain Emojis but not markdown. <br/> <br/> Maximum Length : 60 characters</td>
</tr>
</tbody></table>
<h3 id='supported-languages'>Supported Languages</h3>
<table><thead>
<tr>
<th>Lang code</th>
<th>Language</th>
</tr>
</thead><tbody>
<tr>
<td>en</td>
<td>English</td>
</tr>
<tr>
<td>en_US</td>
<td>English (US)</td>
</tr>
<tr>
<td>en_GB</td>
<td>English (UK)</td>
</tr>
<tr>
<td>hi</td>
<td>Hindi</td>
</tr>
<tr>
<td>mr</td>
<td>Marathi</td>
</tr>
</tbody></table>
<h3 id='supported-media-types'>Supported Media Types</h3>
<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>document</td>
<td>text/plain, application/pdf, application/vnd.ms-powerpoint, application/msword, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.presentationml.presentation, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</td>
<td>100MB</td>
</tr>
</tbody></table></p>

<p><h2 id='get-all-templates'>Get All Templates</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/api/template/&quot;</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/api/template/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_GET</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;next&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://api.sobot.in/api/template/?page=2&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;previous&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">584</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;phone_numbers&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Dear customer,</span><span class="se">\n\n</span><span class="s2">You have not filed one or more GSTR 3B returns. Kindly file your returns immediately to avoid late fee and Interest. Ignore if filed. GSTN&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;entity_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;march_ending&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;UTILITY&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;759559305816228&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;header&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;header_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TEXT&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;sub_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;buttons&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;footer&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;example&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;example_website&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;url_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-03-25T13:26:20.034623+05:30&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> 
            </span><span class="nl">&quot;rejected_reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;added_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">156</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;lang_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to Get all Templates from your WABA account using Sobot platform. API response is paginated with page size of 20.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sobot.in/api/template/</code></p>
<h3 id='response-parameters'>Response Parameters</h3>
<p><strong>First level Keys</strong></p></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Data</td>
<td>Array of json objects of template data. Check below table for detail object specification.</td>
</tr>
<tr>
<td>count</td>
<td>Total count of templates in your account</td>
</tr>
<tr>
<td>size</td>
<td>size of a current page</td>
</tr>
<tr>
<td>next</td>
<td>Link to the next page (if any, else null)</td>
</tr>
<tr>
<td>previous</td>
<td>Link to the previous page (if any, else null)</td>
</tr>
<tr>
<td>code</td>
<td>200 in case of success. Check Errors for other codes.</td>
</tr>
</tbody></table>

<p><strong>Data Object</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>System generated ID for each template</td>
</tr>
<tr>
<td>template</td>
<td>Body of the template. Usually a text including Emojis, variables, markdown for formatting.</td>
</tr>
<tr>
<td>entity_name</td>
<td>Name of the template</td>
</tr>
<tr>
<td>category</td>
<td>Category of template It can be: <ul><li>Marketing</li><li>Utility</li><li>Authentication</li></ul></td>
</tr>
<tr>
<td>template_type</td>
<td>Template type value can be: <ul><li>TEXT</li><li>MEDIA</li></ul></td>
</tr>
<tr>
<td>lang_code</td>
<td>Language code of <code>template</code> content. Actaully denotes the Language of the template.</td>
</tr>
<tr>
<td>template_id</td>
<td>A Meta generated unique ID for template. You can refer this for future operations.</td>
</tr>
<tr>
<td>header</td>
<td>Text of header in case of <code>header_type = Text</code>.</td>
</tr>
<tr>
<td>header_type</td>
<td>Header type value can be: <ul><li>TEXT</li><li>IMAGE</li><li>VIDEO</li><li>DOUCMENT</li></ul></td>
</tr>
<tr>
<td>footer</td>
<td>Text of footer. It can have emojis in it.</td>
</tr>
<tr>
<td>example</td>
<td>a public URL of header data excpet for <code>TEXT</code>.</td>
</tr>
<tr>
<td>sub_type</td>
<td>This can be either <code>null</code> or <code>CTA</code>. If it is set to <code>CTA</code>, it specifies that this template has CTAs in its button. CTAs can be either phone numbers and/or website. For phone number check <code>phone_numbers</code> and for website check <code>url</code>, <code>url_name</code> and <code>example_website</code></td>
</tr>
<tr>
<td>buttons</td>
<td>This helps to identify buttons (Quick reply) of templates. It will return array of strings. <br /> <br /> e.g. [&quot;Yes&quot;, &quot;NO&quot;, &quot;May be&quot;]</td>
</tr>
<tr>
<td>phone_numbers</td>
<td>This return json object with following keys: <ul><li>phone_number: A phone number with country-code e.g. 919970XXXXXX</li><li>text: Name of CTA button</li></ul></td>
</tr>
<tr>
<td>url</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you static part of URL.</td>
</tr>
<tr>
<td>example_website</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you example value of variable that was added in <code>url</code>.</td>
</tr>
<tr>
<td>url_name</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you name to be shown for CTA button.</td>
</tr>
<tr>
<td>created_at</td>
<td>Date of template creation. Its a timestamp. <br/> <br/> e.g. 2023-03-25T13:26:20.034623+05:30</td>
</tr>
<tr>
<td>updated_at</td>
<td>Date of template last updated. Its a timestamp. <br/> <br/> e.g. 2023-03-25T13:26:20.034623+05:30</td>
</tr>
<tr>
<td>status</td>
<td>Status of the template. It denotes the status in numbers. Please find below the number &amp; its meaning. <ul><li>0: Pending</li><li> 1: Approved</li><li>2: Rejected</li><ul></td>
</tr>
<tr>
<td>rejected_reason</td>
<td>Reason of rejection, if the template <code>status = rejected</code>. Else, this is always <code>null</code></td>
</tr>
<tr>
<td>added_by</td>
<td>The unique ID of a user who has added this template on Sobot Platform.</td>
</tr>
</tbody></table>

<p><h2 id='get-pending-templates'>Get Pending Templates</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/api/template/?status=0&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/api/template/?status=0&quot;</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/api/template/?status=0&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_GET</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;next&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://api.sobot.in/api/template/?status=0&amp;page=2&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;previous&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">584</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;phone_numbers&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Dear customer,</span><span class="se">\n\n</span><span class="s2">You have not filed one or more GSTR 3B returns. Kindly file your returns immediately to avoid late fee and Interest. Ignore if filed. GSTN&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;entity_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;march_ending&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;UTILITY&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;759559305816228&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;header&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;header_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TEXT&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;sub_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;buttons&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;footer&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;example&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;example_website&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;url_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-03-25T13:26:20.034623+05:30&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> 
            </span><span class="nl">&quot;rejected_reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;added_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">156</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;lang_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to Get all approval pending Templates from your WABA account using Sobot platform. API response is paginated with page size of 20.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sobot.in/api/template/?status=0</code></p>
<h3 id='response-parameters'>Response Parameters</h3>
<p><strong>First level Keys</strong></p></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Data</td>
<td>Array of json objects of template data. Check below table for detail object specification.</td>
</tr>
<tr>
<td>count</td>
<td>Total count of templates in your account</td>
</tr>
<tr>
<td>size</td>
<td>size of a current page</td>
</tr>
<tr>
<td>next</td>
<td>Link to the next page (if any, else null)</td>
</tr>
<tr>
<td>previous</td>
<td>Link to the previous page (if any, else null)</td>
</tr>
<tr>
<td>code</td>
<td>200 in case of success. Check Errors for other codes.</td>
</tr>
</tbody></table>

<p><strong>Data Object</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>System generated ID for each template</td>
</tr>
<tr>
<td>template</td>
<td>Body of the template. Usually a text including Emojis, variables, markdown for formatting.</td>
</tr>
<tr>
<td>entity_name</td>
<td>Name of the template</td>
</tr>
<tr>
<td>category</td>
<td>Category of template It can be: <ul><li>Marketing</li><li>Utility</li><li>Authentication</li></ul></td>
</tr>
<tr>
<td>template_type</td>
<td>Template type value can be: <ul><li>TEXT</li><li>MEDIA</li></ul></td>
</tr>
<tr>
<td>lang_code</td>
<td>Language code of <code>template</code> content. Actaully denotes the Language of the template.</td>
</tr>
<tr>
<td>template_id</td>
<td>A Meta generated unique ID for template. You can refer this for future operations.</td>
</tr>
<tr>
<td>header</td>
<td>Text of header in case of <code>header_type = Text</code>.</td>
</tr>
<tr>
<td>header_type</td>
<td>Header type value can be: <ul><li>TEXT</li><li>IMAGE</li><li>VIDEO</li><li>DOUCMENT</li></ul></td>
</tr>
<tr>
<td>footer</td>
<td>Text of footer. It can have emojis in it.</td>
</tr>
<tr>
<td>example</td>
<td>a public URL of header data excpet for <code>TEXT</code>.</td>
</tr>
<tr>
<td>sub_type</td>
<td>This can be either <code>null</code> or <code>CTA</code>. If it is set to <code>CTA</code>, it specifies that this template has CTAs in its button. CTAs can be either phone numbers and/or website. For phone number check <code>phone_numbers</code> and for website check <code>url</code>, <code>url_name</code> and <code>example_website</code></td>
</tr>
<tr>
<td>buttons</td>
<td>This helps to identify buttons (Quick reply) of templates. It will return array of strings. <br /> <br /> e.g. [&quot;Yes&quot;, &quot;NO&quot;, &quot;May be&quot;]</td>
</tr>
<tr>
<td>phone_numbers</td>
<td>This return json object with following keys: <ul><li>phone_number: A phone number with country-code e.g. 919970XXXXXX</li><li>text: Name of CTA button</li></ul></td>
</tr>
<tr>
<td>url</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you static part of URL.</td>
</tr>
<tr>
<td>example_website</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you example value of variable that was added in <code>url</code>.</td>
</tr>
<tr>
<td>url_name</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you name to be shown for CTA button.</td>
</tr>
<tr>
<td>created_at</td>
<td>Date of template creation. Its a timestamp. <br/> <br/> e.g. 2023-03-25T13:26:20.034623+05:30</td>
</tr>
<tr>
<td>updated_at</td>
<td>Date of template last updated. Its a timestamp. <br/> <br/> e.g. 2023-03-25T13:26:20.034623+05:30</td>
</tr>
<tr>
<td>status</td>
<td>Status of the template. In thi case its always <code>0</code> for pending templates.</td>
</tr>
<tr>
<td>rejected_reason</td>
<td>Reason of rejection, if the template <code>status = 2</code> i.e. Rejected. Else, this is always <code>null</code></td>
</tr>
<tr>
<td>added_by</td>
<td>The unique ID of a user who has added this template on Sobot Platform.</td>
</tr>
</tbody></table>

<p><h2 id='get-approved-templates'>Get Approved Templates</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/api/template/?status=1&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/api/template/?status=1&quot;</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/api/template/?status=1&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_GET</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;next&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://api.sobot.in/api/template/?status=1&amp;page=2&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;previous&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">584</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;phone_numbers&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Dear customer,</span><span class="se">\n\n</span><span class="s2">You have not filed one or more GSTR 3B returns. Kindly file your returns immediately to avoid late fee and Interest. Ignore if filed. GSTN&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;entity_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;march_ending&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;UTILITY&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;759559305816228&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;header&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;header_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TEXT&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;sub_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;buttons&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;footer&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;example&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;example_website&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;url_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-03-25T13:26:20.034623+05:30&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> 
            </span><span class="nl">&quot;rejected_reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;added_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">156</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;lang_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to Get all approval pending Templates from your WABA account using Sobot platform. API response is paginated with page size of 20.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sobot.in/api/template/?status=1</code></p>
<h3 id='response-parameters'>Response Parameters</h3>
<p><strong>First level Keys</strong></p></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Data</td>
<td>Array of json objects of template data. Check below table for detail object specification.</td>
</tr>
<tr>
<td>count</td>
<td>Total count of templates in your account</td>
</tr>
<tr>
<td>size</td>
<td>size of a current page</td>
</tr>
<tr>
<td>next</td>
<td>Link to the next page (if any, else null)</td>
</tr>
<tr>
<td>previous</td>
<td>Link to the previous page (if any, else null)</td>
</tr>
<tr>
<td>code</td>
<td>200 in case of success. Check Errors for other codes.</td>
</tr>
</tbody></table>

<p><strong>Data Object</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>System generated ID for each template</td>
</tr>
<tr>
<td>template</td>
<td>Body of the template. Usually a text including Emojis, variables, markdown for formatting.</td>
</tr>
<tr>
<td>entity_name</td>
<td>Name of the template</td>
</tr>
<tr>
<td>category</td>
<td>Category of template It can be: <ul><li>Marketing</li><li>Utility</li><li>Authentication</li></ul></td>
</tr>
<tr>
<td>template_type</td>
<td>Template type value can be: <ul><li>TEXT</li><li>MEDIA</li></ul></td>
</tr>
<tr>
<td>lang_code</td>
<td>Language code of <code>template</code> content. Actaully denotes the Language of the template.</td>
</tr>
<tr>
<td>template_id</td>
<td>A Meta generated unique ID for template. You can refer this for future operations.</td>
</tr>
<tr>
<td>header</td>
<td>Text of header in case of <code>header_type = Text</code>.</td>
</tr>
<tr>
<td>header_type</td>
<td>Header type value can be: <ul><li>TEXT</li><li>IMAGE</li><li>VIDEO</li><li>DOUCMENT</li></ul></td>
</tr>
<tr>
<td>footer</td>
<td>Text of footer. It can have emojis in it.</td>
</tr>
<tr>
<td>example</td>
<td>a public URL of header data excpet for <code>TEXT</code>.</td>
</tr>
<tr>
<td>sub_type</td>
<td>This can be either <code>null</code> or <code>CTA</code>. If it is set to <code>CTA</code>, it specifies that this template has CTAs in its button. CTAs can be either phone numbers and/or website. For phone number check <code>phone_numbers</code> and for website check <code>url</code>, <code>url_name</code> and <code>example_website</code></td>
</tr>
<tr>
<td>buttons</td>
<td>This helps to identify buttons (Quick reply) of templates. It will return array of strings. <br /> <br /> e.g. [&quot;Yes&quot;, &quot;NO&quot;, &quot;May be&quot;]</td>
</tr>
<tr>
<td>phone_numbers</td>
<td>This return json object with following keys: <ul><li>phone_number: A phone number with country-code e.g. 919970XXXXXX</li><li>text: Name of CTA button</li></ul></td>
</tr>
<tr>
<td>url</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you static part of URL.</td>
</tr>
<tr>
<td>example_website</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you example value of variable that was added in <code>url</code>.</td>
</tr>
<tr>
<td>url_name</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you name to be shown for CTA button.</td>
</tr>
<tr>
<td>created_at</td>
<td>Date of template creation. Its a timestamp. <br/> <br/> e.g. 2023-03-25T13:26:20.034623+05:30</td>
</tr>
<tr>
<td>updated_at</td>
<td>Date of template last updated. Its a timestamp. <br/> <br/> e.g. 2023-03-25T13:26:20.034623+05:30</td>
</tr>
<tr>
<td>status</td>
<td>Status of the template. In thi case its always <code>1</code> for approved templates.</td>
</tr>
<tr>
<td>rejected_reason</td>
<td>Reason of rejection, if the template <code>status = 2</code> i.e. Rejected. Else, this is always <code>null</code></td>
</tr>
<tr>
<td>added_by</td>
<td>The unique ID of a user who has added this template on Sobot Platform.</td>
</tr>
</tbody></table>

<p><h2 id='get-rejected-templates'>Get Rejected Templates</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/api/template/?status=2&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/api/template/?status=2&quot;</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/api/template/?status=2&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_GET</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;next&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://api.sobot.in/api/template/?status=2&amp;page=2&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;previous&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">584</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;phone_numbers&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Dear customer,</span><span class="se">\n\n</span><span class="s2">You have not filed one or more GSTR 3B returns. Kindly file your returns immediately to avoid late fee and Interest. Ignore if filed. GSTN&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;entity_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;march_ending&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;UTILITY&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;759559305816228&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;header&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;header_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;template_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TEXT&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;sub_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;buttons&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;footer&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;example&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;example_website&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;url_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-03-25T13:26:20.034623+05:30&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> 
            </span><span class="nl">&quot;rejected_reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;added_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">156</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;lang_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to Get all approval pending Templates from your WABA account using Sobot platform. API response is paginated with page size of 20.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sobot.in/api/template/?status=2</code></p>
<h3 id='response-parameters'>Response Parameters</h3>
<p><strong>First level Keys</strong></p></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Data</td>
<td>Array of json objects of template data. Check below table for detail object specification.</td>
</tr>
<tr>
<td>count</td>
<td>Total count of templates in your account</td>
</tr>
<tr>
<td>size</td>
<td>size of a current page</td>
</tr>
<tr>
<td>next</td>
<td>Link to the next page (if any, else null)</td>
</tr>
<tr>
<td>previous</td>
<td>Link to the previous page (if any, else null)</td>
</tr>
<tr>
<td>code</td>
<td>200 in case of success. Check Errors for other codes.</td>
</tr>
</tbody></table>

<p><strong>Data Object</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>System generated ID for each template</td>
</tr>
<tr>
<td>template</td>
<td>Body of the template. Usually a text including Emojis, variables, markdown for formatting.</td>
</tr>
<tr>
<td>entity_name</td>
<td>Name of the template</td>
</tr>
<tr>
<td>category</td>
<td>Category of template It can be: <ul><li>Marketing</li><li>Utility</li><li>Authentication</li></ul></td>
</tr>
<tr>
<td>template_type</td>
<td>Template type value can be: <ul><li>TEXT</li><li>MEDIA</li></ul></td>
</tr>
<tr>
<td>lang_code</td>
<td>Language code of <code>template</code> content. Actaully denotes the Language of the template.</td>
</tr>
<tr>
<td>template_id</td>
<td>A Meta generated unique ID for template. You can refer this for future operations.</td>
</tr>
<tr>
<td>header</td>
<td>Text of header in case of <code>header_type = Text</code>.</td>
</tr>
<tr>
<td>header_type</td>
<td>Header type value can be: <ul><li>TEXT</li><li>IMAGE</li><li>VIDEO</li><li>DOUCMENT</li></ul></td>
</tr>
<tr>
<td>footer</td>
<td>Text of footer. It can have emojis in it.</td>
</tr>
<tr>
<td>example</td>
<td>a public URL of header data excpet for <code>TEXT</code>.</td>
</tr>
<tr>
<td>sub_type</td>
<td>This can be either <code>null</code> or <code>CTA</code>. If it is set to <code>CTA</code>, it specifies that this template has CTAs in its button. CTAs can be either phone numbers and/or website. For phone number check <code>phone_numbers</code> and for website check <code>url</code>, <code>url_name</code> and <code>example_website</code></td>
</tr>
<tr>
<td>buttons</td>
<td>This helps to identify buttons (Quick reply) of templates. It will return array of strings. <br /> <br /> e.g. [&quot;Yes&quot;, &quot;NO&quot;, &quot;May be&quot;]</td>
</tr>
<tr>
<td>phone_numbers</td>
<td>This return json object with following keys: <ul><li>phone_number: A phone number with country-code e.g. 919970XXXXXX</li><li>text: Name of CTA button</li></ul></td>
</tr>
<tr>
<td>url</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you static part of URL.</td>
</tr>
<tr>
<td>example_website</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you example value of variable that was added in <code>url</code>.</td>
</tr>
<tr>
<td>url_name</td>
<td>If  <code>sub_type</code> is set to CTA, and added CTA is a website, this parameter will give you name to be shown for CTA button.</td>
</tr>
<tr>
<td>created_at</td>
<td>Date of template creation. Its a timestamp. <br/> <br/> e.g. 2023-03-25T13:26:20.034623+05:30</td>
</tr>
<tr>
<td>updated_at</td>
<td>Date of template last updated. Its a timestamp. <br/> <br/> e.g. 2023-03-25T13:26:20.034623+05:30</td>
</tr>
<tr>
<td>status</td>
<td>Status of the template. In thi case its always <code>2</code> for rejected templates.</td>
</tr>
<tr>
<td>rejected_reason</td>
<td>Reason of rejection, if the template <code>status = 2</code> i.e. Rejected. Else, this is always <code>null</code></td>
</tr>
<tr>
<td>added_by</td>
<td>The unique ID of a user who has added this template on Sobot Platform.</td>
</tr>
</tbody></table>
<h1 id='template-messages'>Template Messages</h1>
<p>Templates are used in template messages to open marketing, utility, and authentication conversations with customers. Unlike free-form messages, template messages are the only type of message that can be sent to customers who have yet to message you, or who have not sent you a message in the last 24 hours.</p>

<p><h2 id='send-text-message'>Send Text Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
          &quot;template_name&quot;: &quot;hello_world&quot;,
          &quot;template_lang&quot;: &quot;en&quot;,
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
          &quot;customer_name&quot;: &quot;John Doe&quot;
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;template_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_lang&quot;</span><span class="p">:</span> <span class="s">&quot;en&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{
            &quot;template_name&quot;: &quot;hello_world&quot;,
            &quot;template_lang&quot;: &quot;en&quot;,
            &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
            &quot;customer_name&quot;: &quot;John Doe&quot;
            }&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send Text template messages to customers using the Sobot platform, enabling seamless communication with your customer.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>template_name</td>
<td>Yes</td>
<td>Specify the name of the template. You can get the name of template from template <code>GET</code> API.</td>
</tr>
<tr>
<td>template_lang</td>
<td>Yes</td>
<td>Specify the lang_code of the template that you want to send. e.g. en, en_US, en_GB</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p></p>

<p><h2 id='send-text-message-with-variables'>Send Text Message with Variables</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
          &quot;template_name&quot;: &quot;hello_world&quot;,
          &quot;template_lang&quot;: &quot;en&quot;,
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
          &quot;customer_name&quot;: &quot;John Doe&quot;,
          &quot;params&quot;:[
            {
                &quot;type&quot;: &quot;body&quot;,
                &quot;parameters&quot;:[
                  {
                    &quot;type&quot;: &quot;text&quot;,
                    &quot;text&quot;: &quot;8654334&quot;
                  },
                  {
                    &quot;type&quot;: &quot;text&quot;,
                    &quot;text&quot;: &quot;Approved&quot;
                  }
                ]
            }
          ]
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;template_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_lang&quot;</span><span class="p">:</span> <span class="s">&quot;en&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
    <span class="s">&quot;params&quot;</span><span class="p">:[</span>
            <span class="p">{</span>
                <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;body&quot;</span><span class="p">,</span>
                <span class="s">&quot;parameters&quot;</span><span class="p">:[</span>
                  <span class="p">{</span>
                    <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;text&quot;</span><span class="p">,</span>
                    <span class="s">&quot;text&quot;</span><span class="p">:</span> <span class="s">&quot;8654334&quot;</span>
                  <span class="p">},</span>
                  <span class="p">{</span>
                    <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;text&quot;</span><span class="p">,</span>
                    <span class="s">&quot;text&quot;</span><span class="p">:</span> <span class="s">&quot;Approved&quot;</span>
                  <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
          <span class="p">]</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{
            &quot;template_name&quot;: &quot;hello_world&quot;,
            &quot;template_lang&quot;: &quot;en&quot;,
            &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
            &quot;customer_name&quot;: &quot;John Doe&quot;,
            &quot;params&quot;:[
            {
                &quot;parameters&quot;:[
                  {
                    &quot;type&quot;: &quot;text&quot;,
                    &quot;text&quot;: &quot;8654334&quot;
                  },
                  {
                    &quot;type&quot;: &quot;text&quot;,
                    &quot;text&quot;: &quot;Approved&quot;
                  }
                ]
            }
            ]
            }&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send Text template messages along with the variables if Template body has variables in it to customers using the Sobot platform, enabling seamless communication with your customer.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>template_name</td>
<td>Yes</td>
<td>Specify the name of the template. You can get the name of template from template <code>GET</code> API.</td>
</tr>
<tr>
<td>template_lang</td>
<td>Yes</td>
<td>Specify the lang_code of the template that you want to send. e.g. en, en_US, en_GB</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
</tr>
<tr>
<td>params</td>
<td>Yes</td>
<td>In case of template body has variables, this JSON array is required. This array consist of JSON array as follows <br/> <code>&quot;params&quot;:[{ &quot;type&quot;: &quot;body&quot;,</code> <br/> <code>&quot;parameters&quot;: [{ &quot;type&quot;: &quot;text&quot;, &quot;text&quot;: &quot;8654334&quot; },</code> <br/> <code>{ &quot;type&quot;: &quot;text&quot;, &quot;text&quot;: &quot;Approved&quot; }] } ]</code> <br> <br>Make sure that the list of parameters follows the order as per the variables in your template message. <br> If the parameters count does not matched to variable count in template, sending template will be failed.</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p></p>

<p><h2 id='send-text-message-with-cta'>Send Text Message with CTA</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
          &quot;template_name&quot;: &quot;hello_world&quot;,
          &quot;template_lang&quot;: &quot;en&quot;,
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
          &quot;customer_name&quot;: &quot;John Doe&quot;,
          &quot;params&quot;:[
            {
                &quot;type&quot;: &quot;button&quot;,
                &quot;sub_type&quot;: &quot;url&quot;,
                &quot;index&quot; : 0
                &quot;parameters&quot;:[
                  {
                    &quot;type&quot;: &quot;text&quot;,
                    &quot;text&quot;: &quot;8654334&quot;
                  }
                ]
            }
          ]
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;template_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_lang&quot;</span><span class="p">:</span> <span class="s">&quot;en&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
    <span class="s">&quot;params&quot;</span><span class="p">:[</span>
            <span class="p">{</span>
                <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;button&quot;</span><span class="p">,</span>
                <span class="s">&quot;sub_type&quot;</span><span class="p">:</span> <span class="s">&quot;url&quot;</span><span class="p">,</span>
                <span class="s">&quot;index&quot;</span> <span class="p">:</span> <span class="mi">0</span>
                <span class="s">&quot;parameters&quot;</span><span class="p">:[</span>
                  <span class="p">{</span>
                    <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;text&quot;</span><span class="p">,</span>
                    <span class="s">&quot;text&quot;</span><span class="p">:</span> <span class="s">&quot;8654334&quot;</span>
                  <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
          <span class="p">]</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{
            &quot;template_name&quot;: &quot;hello_world&quot;,
            &quot;template_lang&quot;: &quot;en&quot;,
            &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
            &quot;customer_name&quot;: &quot;John Doe&quot;,
            &quot;params&quot;:[
                {
                    &quot;type&quot;: &quot;button&quot;,
                    &quot;sub_type&quot;: &quot;url&quot;,
                    &quot;index&quot; : 0
                    &quot;parameters&quot;:[
                        {
                            &quot;type&quot;: &quot;text&quot;,
                            &quot;text&quot;: &quot;8654334&quot;
                        }
                    ]
                }
            ]
            }&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send Text template messages along with Call-to-Action buttons to customers using the Sobot platform, enabling seamless communication with your customer.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>template_name</td>
<td>Yes</td>
<td>Specify the name of the template. You can get the name of template from template <code>GET</code> API.</td>
</tr>
<tr>
<td>template_lang</td>
<td>Yes</td>
<td>Specify the lang_code of the template that you want to send. e.g. en, en_US, en_GB</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
</tr>
<tr>
<td>params</td>
<td>Yes</td>
<td>This is a JSON array accepts the single JSON object to specify parameters for Call-to-Action&#39;s website link which has variables parameters in it. Following keys are support in JSON object: <ul><li>type: In this case, it will be a <code>button</code>.</li><li>sub_type: As this a website link, sub_type of button in this case is <code>url</code>. </li><li>index: This parameter helps to sepcify the position of the button, it can be either <code>0</code> or <code>1</code>.</li><li>paramters: Accepts the JSON array with single JSON object which has following keys: <ul><li>type: helps to specify the type of value the url parameter will accept. In this case it will be <code>text</code>.</li><li>text: As the type of parameter is text, this parameter will accept the exact value of parameter. This value will be embedded in <code>url</code> to replace variable.</li></ul></li></ul></td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p></p>

<p><h2 id='send-image-message'>Send Image Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
          &quot;template_name&quot;: &quot;hello_world&quot;,
          &quot;template_lang&quot;: &quot;en&quot;,
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
          &quot;customer_name&quot;: &quot;John Doe&quot;,
           &quot;params&quot;:[
            {
                &quot;type&quot;: &quot;header&quot;,
                &quot;parameters&quot;:[
                  {
                    &quot;type&quot;: &quot;image&quot;,
                    &quot;link&quot;: &quot;https://example.com/images/20230625_003239.jpg&quot;
                  }
                ]
            }
          ]
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;template_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_lang&quot;</span><span class="p">:</span> <span class="s">&quot;en&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
    <span class="s">&quot;params&quot;</span><span class="p">:[</span>
            <span class="p">{</span>
                <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;header&quot;</span><span class="p">,</span>
                <span class="s">&quot;parameters&quot;</span><span class="p">:[</span>
                  <span class="p">{</span>
                    <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;image&quot;</span><span class="p">,</span>
                    <span class="s">&quot;link&quot;</span><span class="p">:</span> <span class="s">&quot;https://example.com/images/20230625_003239.jpg&quot;</span>
                  <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
          <span class="p">]</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{
            &quot;template_name&quot;: &quot;hello_world&quot;,
            &quot;template_lang&quot;: &quot;en&quot;,
            &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
            &quot;customer_name&quot;: &quot;John Doe&quot;,
            &quot;params&quot;:[
            {
                &quot;type&quot;: &quot;header&quot;,
                &quot;parameters&quot;:[
                  {
                    &quot;type&quot;: &quot;image&quot;,
                    &quot;link&quot;: &quot;https://example.com/images/20230625_003239.jpg&quot;
                  }
                ]
            }
          ]
            }&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send Template messages with Image to customers using the Sobot platform, enabling seamless communication with your customer.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>template_name</td>
<td>Yes</td>
<td>Specify the name of the template. You can get the name of template from template <code>GET</code> API.</td>
</tr>
<tr>
<td>template_lang</td>
<td>Yes</td>
<td>Specify the lang_code of the template that you want to send. e.g. en, en_US, en_GB</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br /> No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
</tr>
<tr>
<td>params</td>
<td>Yes</td>
<td>This is a JSON array accepts the single JSON object to specify image as a header for Image template. JSON object has two keys: <ul><li>type: In this case <code>header</code></li> <li>parameters: A nested JSON array holds single object which has following keys: <ul><li>type: for Image header specify <code>image</code> as a type.</li><li>A public URL of Image. Please see below table for supported Media types.</li></ul></td>
</tr>
</tbody></table>
<h3 id='supported-media-types'>Supported Media Types</h3>
<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>image</td>
<td>image/jpeg, image/png Images must be 8-bit, RGB or RGBA</td>
<td>5MB</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p></p>

<p><h2 id='send-video-message'>Send Video Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
          &quot;template_name&quot;: &quot;hello_world&quot;,
          &quot;template_lang&quot;: &quot;en&quot;,
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
          &quot;customer_name&quot;: &quot;John Doe&quot;,
           &quot;params&quot;:[
            {
                &quot;type&quot;: &quot;header&quot;,
                &quot;parameters&quot;:[
                  {
                    &quot;type&quot;: &quot;video&quot;,
                    &quot;link&quot;: &quot;https://example.com/videos/20230625_003239.mp4&quot;
                  }
                ]
            }
          ]
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;template_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_lang&quot;</span><span class="p">:</span> <span class="s">&quot;en&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
    <span class="s">&quot;params&quot;</span><span class="p">:[</span>
            <span class="p">{</span>
                <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;header&quot;</span><span class="p">,</span>
                <span class="s">&quot;parameters&quot;</span><span class="p">:[</span>
                  <span class="p">{</span>
                    <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;video&quot;</span><span class="p">,</span>
                    <span class="s">&quot;link&quot;</span><span class="p">:</span> <span class="s">&quot;https://example.com/videos/20230625_003239.mp4&quot;</span>
                  <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
          <span class="p">]</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{
            &quot;template_name&quot;: &quot;hello_world&quot;,
            &quot;template_lang&quot;: &quot;en&quot;,
            &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
            &quot;customer_name&quot;: &quot;John Doe&quot;,
            &quot;params&quot;:[
            {
                &quot;type&quot;: &quot;header&quot;,
                &quot;parameters&quot;:[
                  {
                    &quot;type&quot;: &quot;video&quot;,
                    &quot;link&quot;: &quot;https://example.com/videos/20230625_003239.mp4&quot;
                  }
                ]
            }
          ]
            }&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send Template messages with Video to customers using the Sobot platform, enabling seamless communication with your customer.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>template_name</td>
<td>Yes</td>
<td>Specify the name of the template. You can get the name of template from template <code>GET</code> API.</td>
</tr>
<tr>
<td>template_lang</td>
<td>Yes</td>
<td>Specify the lang_code of the template that you want to send. e.g. en, en_US, en_GB</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
</tr>
<tr>
<td>params</td>
<td>Yes</td>
<td>This is a JSON array accepts the single JSON object to specify video as a header for video template. JSON object has two keys: <ul><li>type: In this case <code>header</code></li> <li>parameters: A nested JSON array holds single object which has following keys: <ul><li>type: for Video header specify <code>video</code> as a type.</li><li>A public URL of video. Please see below table for supported Media types.</li></ul></td>
</tr>
</tbody></table>
<h3 id='supported-media-types'>Supported Media Types</h3>
<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>video</td>
<td>video/mp4, video/3gp<br/><br/> Notes: <br/>Only H.264 video codec and AAC audio codec is supported. <br/>We support videos with a single audio stream or no audio stream.</td>
<td>16MB</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p></p>

<p><h2 id='send-document-message'>Send Document Message</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--globoff</span> <span class="s1">&#39;https://api.sobot.in/message/&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-key: yourapiaccesskey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;x-api-secret: yourapisecretkey&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--header</span> <span class="s1">&#39;content-type&#39;</span>: <span class="s1">&#39;application/json&#39;</span> <span class="se">&lt;/span&gt;
<span class="nt">--data</span> <span class="s1">&#39;{
          &quot;template_name&quot;: &quot;hello_world&quot;,
          &quot;template_lang&quot;: &quot;en&quot;,
          &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
          &quot;customer_name&quot;: &quot;John Doe&quot;,
           &quot;params&quot;:[
            {
                &quot;type&quot;: &quot;header&quot;,
                &quot;parameters&quot;:[
                  {
                    &quot;type&quot;: &quot;document&quot;,
                    &quot;link&quot;: &quot;https://example.com/documents/20230625_003239.pdf&quot;
                  }
                ]
            }
          ]
}&#39;</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;https://api.sobot.in/message/&quot;</span></p>

<p><span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s">&quot;template_name&quot;</span><span class="p">:</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span>
    <span class="s">&quot;template_lang&quot;</span><span class="p">:</span> <span class="s">&quot;en&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_number&quot;</span><span class="p">:</span> <span class="s">&quot;919970XXXXXX&quot;</span><span class="p">,</span>
    <span class="s">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
    <span class="s">&quot;params&quot;</span><span class="p">:[</span>
            <span class="p">{</span>
                <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;header&quot;</span><span class="p">,</span>
                <span class="s">&quot;parameters&quot;</span><span class="p">:[</span>
                  <span class="p">{</span>
                    <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;document&quot;</span><span class="p">,</span>
                    <span class="s">&quot;link&quot;</span><span class="p">:</span> <span class="s">&quot;https://example.com/documents/20230625_003239.pdf&quot;</span>
                  <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
          <span class="p">]</span>
<span class="p">}</span>
<span class="p">)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s">&#39;x-api-secret&#39;</span><span class="p">:</span> <span class="s">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span>
<span class="p">}</span></p>

<p><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span></p>

<p><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">require_once</span> <span class="s1">&#39;HTTP/Request2.php&#39;</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HTTP_Request2</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setUrl</span><span class="p">(</span><span class="s1">&#39;https://api.sobot.in/message/&#39;</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setMethod</span><span class="p">(</span><span class="n">HTTP_Request2</span><span class="o">::</span><span class="no">METHOD_POST</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setConfig</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;follow_redirects&#39;</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setHeader</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;x-api-key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapiaccesskey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yourapisecretkey&#39;</span><span class="p">,</span>
  <span class="s1">&#39;content-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json&#39;</span>
<span class="p">));</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">setBody</span><span class="p">(</span><span class="s1">&#39;{
            &quot;template_name&quot;: &quot;hello_world&quot;,
            &quot;template_lang&quot;: &quot;en&quot;,
            &quot;customer_number&quot;:&quot;919970XXXXXX&quot;,
            &quot;customer_name&quot;: &quot;John Doe&quot;,
            &quot;params&quot;:[
            {
                &quot;type&quot;: &quot;header&quot;,
                &quot;parameters&quot;:[
                  {
                    &quot;type&quot;: &quot;document&quot;,
                    &quot;link&quot;: &quot;https://example.com/documents/20230625_003239.pdf&quot;
                  }
                ]
            }
          ]
            }&#39;</span>
<span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">send</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getBody</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Unexpected HTTP status: &#39;</span> <span class="mf">.</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">()</span> <span class="mf">.</span> <span class="s1">&#39; &#39;</span> <span class="mf">.</span>
    <span class="nv">$response</span><span class="o">-&gt;</span><span class="nf">getReasonPhrase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">HTTP_Request2_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="mf">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span></p>

<p></code></pre></div>
<blockquote>
<p>The above API call returns JSON response like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5OTcwNTg1NTU2FQIAERgSQjhGRDQ2REFBQjAxMjJBM0Q1AA==&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Message sent successfully.&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This API allows you to send Template messages with Document to customers using the Sobot platform, enabling seamless communication with your customer.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sobot.in/message/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>template_name</td>
<td>Yes</td>
<td>Specify the name of the template. You can get the name of template from template <code>GET</code> API.</td>
</tr>
<tr>
<td>template_lang</td>
<td>Yes</td>
<td>Specify the lang_code of the template that you want to send. e.g. en, en_US, en_GB</td>
</tr>
<tr>
<td>customer_number</td>
<td>Yes</td>
<td>WhatsApp phone number of the customer you want to send a message to. <br /> <br />No Plus signs (+), hyphens (-), parenthesis ((,)), and spaces are supported in customer phone number. <br /><br /> We highly recommend that you <strong>include country calling code</strong> when sending a message to a customer. If the country calling code is omitted, your business phone number&#39;s country calling code is prepended to the customer&#39;s phone number. This can result in undelivered or misdelivered messages.</td>
</tr>
<tr>
<td>customer_name</td>
<td>Yes</td>
<td>Name of a customer for future reference</td>
</tr>
<tr>
<td>params</td>
<td>Yes</td>
<td>This is a JSON array accepts the single JSON object to specify document as a header for document template. JSON object has two keys: <ul><li>type: In this case <code>header</code></li> <li>parameters: A nested JSON array holds single object which has following keys: <ul><li>type: for document header specify <code>document</code> as a type.</li><li>A public URL of document. Please see below table for supported Media types.</li></ul></td>
</tr>
</tbody></table>
<h3 id='supported-media-types'>Supported Media Types</h3>
<table><thead>
<tr>
<th>Media</th>
<th>Supported Types</th>
<th>Size Limit</th>
</tr>
</thead><tbody>
<tr>
<td>document</td>
<td>text/plain, application/pdf, application/vnd.ms-powerpoint, application/msword, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.presentationml.presentation, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</td>
<td>100MB</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>In response of successfully sent messages, you will get <code>id</code> &amp; <code>status</code> under <code>data</code> key. Messages are identified by a unique ID (<code>wamid</code>). You can track message status in the Webhooks through its <code>wamid</code>  (Check Webhook Documentation for recieving Status events of sent messages on your webhook). This <code>wamid</code> can have a maximum length of up to 128 characters.</p></p>
<h1 id='webhook'>Webhook</h1>
<p>Webhooks are triggered when a customer performs an action or the status for a message a business sends a customer changes. You get a webhooks notification:</p>

<p><strong>When a customer performs an action:</strong>
This alert lets you know when you have received a message. These can also be called &quot;inbound notifications&quot;
<ul>
<li>Sends a text message to the business</li>
<li>Sends an image, video, document, or sticker to the business</li>
<li>Sends contact information to the business</li>
<li>Sends location information to the business</li>
<li>Clicks a reply button set up by the business</li>
</ul></p>

<p><strong>When the status for a message received by a business changes:</strong>
This alert lets you know when the status of a message has changed —for example, the message has been read or delivered. These can also be called &quot;outbound notifications&quot;
<ul>
<li>delivered</li>
<li>sent</li>
<li>read</li>
</ul></p>

<h2 id='adding-a-webhook'>Adding a Webhook</h2>

<p>Before you can start receiving notifications you will need to create an endpoint on your server to receive notifications.</p>

<p>Your endpoint must be able to process HTTPS requests: Event Notifications. Since requests use HTTPs, your server must have a valid TLS or SSL certificate correctly configured and installed. </p>

<p>Webhooks payloads can be up to 3MB.</p>

<h3 id='webhook-delivery-failure'>Webhook Delivery Failure</h3>

<aside class="warning">
We will send all the webhook notifications only once, irresepctive of your server status or response code. 
</aside>

<h2 id='text-message-payload'>Text Message Payload</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"messaging_product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"whatsapp"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"display_phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919960643074"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nerdyator"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"wa_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"918446600260"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"918446600260"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE4NDQ2NjAwMjYwFQIAEhggNEIxNkNCRDQzQzUzMDBBQzNFQjQ5RTY3MjFFQkUzRUEA"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1692945450"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"messages"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<h2 id='image-message-payload'>Image Message Payload</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"messaging_product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"whatsapp"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"display_phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919960643074"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nerdyator"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"wa_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"918446600260"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"918446600260"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE4NDQ2NjAwMjYwFQIAEhggNkIwQTE0QThEQTQ3MTY4RTlBODI5RkVCNkU2RDA5MjUA"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1692945800"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"mime_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpeg"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sha256"</span><span class="p">:</span><span class="w"> </span><span class="s2">"R7YC4Npw3LTD1MgI1DKGbgVyStiqZU4HVbEiJPd05IE="</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"298794646074668"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"messages"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<h2 id='video-message-payload'>Video Message Payload</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"messaging_product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"whatsapp"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"display_phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919960643074"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nerdyator"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"wa_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"918446600260"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"918446600260"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wamid.HBgMOTE4NDQ2NjAwMjYwFQIAEhggNkIwQTE0QThEQTQ3MTY4RTlBODI5RkVCNkU2RDA5MjUA"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1692945800"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"mime_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpeg"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sha256"</span><span class="p">:</span><span class="w"> </span><span class="s2">"R7YC4Npw3LTD1MgI1DKGbgVyStiqZU4HVbEiJPd05IE="</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"298794646074668"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"messages"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<h2 id='message-status-updates'>Message Status Updates</h2>

<p>The Sobot Platform sends notifications to inform you of the status of the messages between you and your users. When a message is sent successfully, you receive a notification when the message is sent, delivered, and read. The order of these notifications in your app may not reflect the actual timing of the message status. View the timestamp to determine the timing, if necessary.</p>

<p><h3 id='message-sent-status-payload'>Message Sent Status Payload</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5NTYxODc4MDgwFQIAERgSRTUzMjRGMDc2OTIzNjBDRkZGAA==&quot;</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sent&quot;</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1692947519&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The following notification is received when a business sends a message as part of a user-initiated conversation: <br/>
<code>
{
    &quot;id&quot;: &quot;wamid.HBgMOTE5NTYxODc4MDgwFQIAERgSRTUzMjRGMDc2OTIzNjBDRkZGAA==&quot;, 
    &quot;status&quot;: &quot;sent&quot;, 
    &quot;timestamp&quot;: &quot;1692947519&quot;
}
</code></p>
<h3 id='message-delivered-status-payload'>Message Delivered Status Payload</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5NTYxODc4MDgwFQIAERgSRTUzMjRGMDc2OTIzNjBDRkZGAA==&quot;</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;delivered&quot;</span><span class="p">,</span><span class="w">
     </span><span class="nl">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1692947519&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The following notification is received when a business’ message is delivered and that message is part of a user-initiated conversation:<br/>
<code>
{
    &quot;id&quot;: &quot;wamid.HBgMOTE5NTYxODc4MDgwFQIAERgSRTUzMjRGMDc2OTIzNjBDRkZGAA==&quot;,
    &quot;status&quot;: &quot;delivered&quot;,
     &quot;timestamp&quot;: &quot;1692947519&quot;
}
</code></p>
<h3 id='message-read-status-payload'>Message Read Status Payload</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wamid.HBgMOTE5NTYxODc4MDgwFQIAERgSRTUzMjRGMDc2OTIzNjBDRkZGAA==&quot;</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;read&quot;</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1692947519&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The following notification is received when a business’ message is read and that message is part of a user-initiated conversation:<br/>
<code>
{
    &quot;id&quot;: &quot;wamid.HBgMOTE5NTYxODc4MDgwFQIAERgSRTUzMjRGMDc2OTIzNjBDRkZGAA==&quot;, 
    &quot;status&quot;: &quot;read&quot;, 
    &quot;timestamp&quot;: &quot;1692947519&quot;
}
</code></p></p>
<h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="php">PHP</a>
          </div>
      </div>
    </div>
  </body>
</html>
